import{s as safe_not_equal,e as element,v as empty,Q as head_selector,c as claim_element,d as detach,q as attr,f as append_hydration,n as noop,T as destroy_each,i as insert_hydration,m as space,a as children,p as claim_space,o as get_svelte_dataset,a8 as src_url_equal,S as listen,x as onMount,X as svg_element,Y as claim_svg_element,t as text$1,b as claim_text,g as set_data,z as binding_callbacks,y as set_style,V as toggle_class,h as component_subscribe,a5 as HtmlTagHydration,a6 as claim_html_tag,a9 as set_store_value,aa as prevent_default,a2 as setContext}from"../chunks/scheduler.C_EA17-_.js";import{S as SvelteComponent,i as init,c as create_component,b as claim_component,m as mount_component,t as transition_in,a as transition_out,d as destroy_component}from"../chunks/index.CVm-sXmN.js";import{e as ensure_array_like}from"../chunks/each.D6YF6ztN.js";import{d as descending,I as InternMap,c as constant$2,i as interpolateNumber,a as color,b as interpolateRgb,e as interpolateString,r as rollups,S as Selection,f as root,t as timer,h as dispatch,j as flatRollup}from"../chunks/transform.BPXmZvzC.js";import{w as writable}from"../chunks/index.BdJqLsok.js";function get_each_context$4(i,o,s){const l=i.slice();return l[5]=o[s],l}function create_each_block$4(i){let o,s;return{c(){o=element("link"),this.h()},l(l){o=claim_element(l,"LINK",{rel:!0,href:!0,as:!0,type:!0,crossorigin:!0}),this.h()},h(){attr(o,"rel","preload"),attr(o,"href",s=i[5]),attr(o,"as","font"),attr(o,"type","font/woff2"),attr(o,"crossorigin","")},m(l,u){insert_hydration(l,o,u)},p(l,u){u&16&&s!==(s=l[5])&&attr(o,"href",s)},d(l){l&&detach(o)}}}function create_fragment$e(i){let o,s,l,u,h,f,p,_,g,b,w,$,E,M,C,k,T,A,D,I,S,U,P,Y,G,V;document.title=o=i[0];let W=ensure_array_like(i[4]),F=[];for(let H=0;H<W.length;H+=1)F[H]=create_each_block$4(get_each_context$4(i,W,H));return{c(){s=element("meta"),l=element("meta"),u=element("meta"),h=element("meta"),f=element("meta"),p=element("meta"),_=element("meta"),g=element("meta"),b=element("meta"),w=element("meta"),E=element("meta"),M=element("meta"),C=element("meta"),k=element("meta"),T=element("meta"),A=element("meta"),D=element("meta"),I=element("meta"),S=element("meta"),P=element("meta"),Y=element("link");for(let H=0;H<F.length;H+=1)F[H].c();V=empty(),this.h()},l(H){const L=head_selector("svelte-1htu80s",document.head);s=claim_element(L,"META",{name:!0,content:!0}),l=claim_element(L,"META",{name:!0,content:!0}),u=claim_element(L,"META",{name:!0,content:!0}),h=claim_element(L,"META",{property:!0,content:!0}),f=claim_element(L,"META",{property:!0,content:!0}),p=claim_element(L,"META",{property:!0,content:!0}),_=claim_element(L,"META",{property:!0,content:!0}),g=claim_element(L,"META",{property:!0,content:!0}),b=claim_element(L,"META",{property:!0,content:!0}),w=claim_element(L,"META",{property:!0,content:!0}),E=claim_element(L,"META",{property:!0,content:!0}),M=claim_element(L,"META",{property:!0,content:!0}),C=claim_element(L,"META",{property:!0,content:!0}),k=claim_element(L,"META",{name:!0,content:!0}),T=claim_element(L,"META",{name:!0,content:!0}),A=claim_element(L,"META",{name:!0,content:!0}),D=claim_element(L,"META",{name:!0,content:!0}),I=claim_element(L,"META",{name:!0,content:!0}),S=claim_element(L,"META",{name:!0,content:!0}),P=claim_element(L,"META",{name:!0,content:!0}),Y=claim_element(L,"LINK",{rel:!0,href:!0});for(let z=0;z<F.length;z+=1)F[z].l(L);V=empty(),L.forEach(detach),this.h()},h(){attr(s,"name","description"),attr(s,"content",i[1]),attr(l,"name","author"),attr(l,"content","The Pudding"),attr(u,"name","news_keywords"),attr(u,"content",i[3]),attr(h,"property","og:title"),attr(h,"content",i[0]),attr(f,"property","og:site_name"),attr(f,"content","The Pudding"),attr(p,"property","og:url"),attr(p,"content",i[2]),attr(_,"property","og:description"),attr(_,"content",i[1]),attr(g,"property","og:type"),attr(g,"content","article"),attr(b,"property","og:locale"),attr(b,"content","en_US"),attr(w,"property","og:image"),attr(w,"content",$=i[2]+"/assets/social-facebook.jpg"),attr(E,"property","og:image:type"),attr(E,"content","image/jpeg"),attr(M,"property","og:image:width"),attr(M,"content","1200"),attr(C,"property","og:image:height"),attr(C,"content","600"),attr(k,"name","twitter:card"),attr(k,"content","summary_large_image"),attr(T,"name","twitter:site"),attr(T,"content","https://pudding.cool"),attr(A,"name","twitter:creator"),attr(A,"content","@puddingviz"),attr(D,"name","twitter:title"),attr(D,"content",i[0]),attr(I,"name","twitter:description"),attr(I,"content",i[1]),attr(S,"name","twitter:image:src"),attr(S,"content",U=i[2]+"/assets/social-twitter.jpg"),attr(P,"name","robots"),attr(P,"content","max-image-preview:large"),attr(Y,"rel","canonical"),attr(Y,"href",G=i[2]+"/")},m(H,L){append_hydration(document.head,s),append_hydration(document.head,l),append_hydration(document.head,u),append_hydration(document.head,h),append_hydration(document.head,f),append_hydration(document.head,p),append_hydration(document.head,_),append_hydration(document.head,g),append_hydration(document.head,b),append_hydration(document.head,w),append_hydration(document.head,E),append_hydration(document.head,M),append_hydration(document.head,C),append_hydration(document.head,k),append_hydration(document.head,T),append_hydration(document.head,A),append_hydration(document.head,D),append_hydration(document.head,I),append_hydration(document.head,S),append_hydration(document.head,P),append_hydration(document.head,Y);for(let z=0;z<F.length;z+=1)F[z]&&F[z].m(document.head,null);append_hydration(document.head,V)},p(H,[L]){if(L&1&&o!==(o=H[0])&&(document.title=o),L&2&&attr(s,"content",H[1]),L&8&&attr(u,"content",H[3]),L&1&&attr(h,"content",H[0]),L&4&&attr(p,"content",H[2]),L&2&&attr(_,"content",H[1]),L&4&&$!==($=H[2]+"/assets/social-facebook.jpg")&&attr(w,"content",$),L&1&&attr(D,"content",H[0]),L&2&&attr(I,"content",H[1]),L&4&&U!==(U=H[2]+"/assets/social-twitter.jpg")&&attr(S,"content",U),L&4&&G!==(G=H[2]+"/")&&attr(Y,"href",G),L&16){W=ensure_array_like(H[4]);let z;for(z=0;z<W.length;z+=1){const ne=get_each_context$4(H,W,z);F[z]?F[z].p(ne,L):(F[z]=create_each_block$4(ne),F[z].c(),F[z].m(V.parentNode,V))}for(;z<F.length;z+=1)F[z].d(1);F.length=W.length}},i:noop,o:noop,d(H){detach(s),detach(l),detach(u),detach(h),detach(f),detach(p),detach(_),detach(g),detach(b),detach(w),detach(E),detach(M),detach(C),detach(k),detach(T),detach(A),detach(D),detach(I),detach(S),detach(P),detach(Y),destroy_each(F,H),detach(V)}}}function instance$a(i,o,s){let{title:l="Title TK"}=o,{description:u="Description TK"}=o,{url:h="https://pudding.cool"}=o,{keywords:f=""}=o,{preloadFont:p=[]}=o;return i.$$set=_=>{"title"in _&&s(0,l=_.title),"description"in _&&s(1,u=_.description),"url"in _&&s(2,h=_.url),"keywords"in _&&s(3,f=_.keywords),"preloadFont"in _&&s(4,p=_.preloadFont)},[l,u,h,f,p]}class Meta extends SvelteComponent{constructor(o){super(),init(this,o,instance$a,create_fragment$e,safe_not_equal,{title:0,description:1,url:2,keywords:3,preloadFont:4})}}class PuddingLogo extends SvelteComponent{constructor(o){super(),init(this,o,null,null,safe_not_equal,{})}}function create_fragment$d(i){let o,s,l,u,h,f,p,_,g,b="The Sadness of Song: How Pop Music is Turning to the Dark Side",w,$,E=`An analysis of the emotional landscape of popular music over the last 60
		years`,M,C,k='By <a href="https://pudding.cool/author/claude" target="_blank">Claude 3</a>',T;return u=new PuddingLogo({}),{c(){o=element("header"),s=element("div"),l=element("a"),create_component(u.$$.fragment),h=space(),f=element("img"),_=space(),g=element("h1"),g.textContent=b,w=space(),$=element("p"),$.textContent=E,M=space(),C=element("div"),C.innerHTML=k,this.h()},l(A){o=claim_element(A,"HEADER",{class:!0});var D=children(o);s=claim_element(D,"DIV",{class:!0});var I=children(s);l=claim_element(I,"A",{href:!0,target:!0,rel:!0});var S=children(l);claim_component(u.$$.fragment,S),S.forEach(detach),I.forEach(detach),h=claim_space(D),f=claim_element(D,"IMG",{src:!0,alt:!0,class:!0}),_=claim_space(D),g=claim_element(D,"H1",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(g)!=="svelte-5tyn4s"&&(g.textContent=b),w=claim_space(D),$=claim_element(D,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset($)!=="svelte-geevic"&&($.textContent=E),M=claim_space(D),C=claim_element(D,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(C)!=="svelte-99phsk"&&(C.innerHTML=k),D.forEach(detach),this.h()},h(){attr(l,"href","https://pudding.cool"),attr(l,"target","_blank"),attr(l,"rel","noopener noreferrer"),attr(s,"class","logo-container svelte-16t128f"),src_url_equal(f.src,p="assets/cover-art.jpg")||attr(f,"src",p),attr(f,"alt","Cover art juxtaposing positive and negative imagery in hit songs"),attr(f,"class","cover-art svelte-16t128f"),attr(g,"class","svelte-16t128f"),attr($,"class","subtitle svelte-16t128f"),attr(C,"class","byline svelte-16t128f"),attr(o,"class","svelte-16t128f")},m(A,D){insert_hydration(A,o,D),append_hydration(o,s),append_hydration(s,l),mount_component(u,l,null),append_hydration(o,h),append_hydration(o,f),append_hydration(o,_),append_hydration(o,g),append_hydration(o,w),append_hydration(o,$),append_hydration(o,M),append_hydration(o,C),T=!0},p:noop,i(A){T||(transition_in(u.$$.fragment,A),T=!0)},o(A){transition_out(u.$$.fragment,A),T=!1},d(A){A&&detach(o),destroy_component(u)}}}class Header extends SvelteComponent{constructor(o){super(),init(this,o,null,create_fragment$d,safe_not_equal,{})}}function create_fragment$c(i){let o,s=`<p class="intro-text svelte-pzzhhg">In 2017, Julia Michaels&#39; hit song &quot;Issues&quot; took the pop world by storm. With
		lyrics like:</p> <blockquote>&quot;I&#39;m jealous, I&#39;m overzealous / When I&#39;m down, I get real down,&quot;</blockquote> <p>it laid bare the singer&#39;s emotional struggles over a catchy, upbeat melody.
		The song marked a striking shift in popular music: a mainstream embrace of
		darker, more negative themes.</p> <p class="intro-text svelte-pzzhhg">As it turns out, &quot;Issues&quot; was not an anomaly, but rather a sign of the
		times. Over the past decade, there has been a steady rise in the proportion
		of emotionally negative songs topping the Billboard charts, reflecting a
		broader shift in popular music&#39;s emotional landscape. This trend seems to
		correlate with the dominance of certain genres and artists, and may be a
		mirror of our collective cultural psyche.</p> <p class="intro-text svelte-pzzhhg">To understand this phenomenon, we analyzed the sentiment of every song that
		reached the Billboard Hot 100&#39;s top 10 from 1960 to 2020. Using advanced
		language processing, we assigned each song scores for eight basic emotions:
		anger, anticipation, disgust, fear, joy, sadness, surprise, and trust. The
		results paint a fascinating picture of the evolving emotional tone of
		popular music.</p>`;return{c(){o=element("section"),o.innerHTML=s,this.h()},l(l){o=claim_element(l,"SECTION",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-nh90ve"&&(o.innerHTML=s),this.h()},h(){attr(o,"class","introduction svelte-pzzhhg")},m(l,u){insert_hydration(l,o,u)},p:noop,i:noop,o:noop,d(l){l&&detach(o)}}}class Introduction extends SvelteComponent{constructor(o){super(),init(this,o,null,create_fragment$c,safe_not_equal,{})}}var EOL$1={},EOF$1={},QUOTE$1=34,NEWLINE$1=10,RETURN$1=13;function objectConverter$1(i){return new Function("d","return {"+i.map(function(o,s){return JSON.stringify(o)+": d["+s+'] || ""'}).join(",")+"}")}function customConverter$1(i,o){var s=objectConverter$1(i);return function(l,u){return o(s(l),u,i)}}function inferColumns$1(i){var o=Object.create(null),s=[];return i.forEach(function(l){for(var u in l)u in o||s.push(o[u]=u)}),s}function pad$2(i,o){var s=i+"",l=s.length;return l<o?new Array(o-l+1).join(0)+s:s}function formatYear$2(i){return i<0?"-"+pad$2(-i,6):i>9999?"+"+pad$2(i,6):pad$2(i,4)}function formatDate$1(i){var o=i.getUTCHours(),s=i.getUTCMinutes(),l=i.getUTCSeconds(),u=i.getUTCMilliseconds();return isNaN(i)?"Invalid Date":formatYear$2(i.getUTCFullYear())+"-"+pad$2(i.getUTCMonth()+1,2)+"-"+pad$2(i.getUTCDate(),2)+(u?"T"+pad$2(o,2)+":"+pad$2(s,2)+":"+pad$2(l,2)+"."+pad$2(u,3)+"Z":l?"T"+pad$2(o,2)+":"+pad$2(s,2)+":"+pad$2(l,2)+"Z":s||o?"T"+pad$2(o,2)+":"+pad$2(s,2)+"Z":"")}function dsvFormat(i){var o=new RegExp('["'+i+`
\r]`),s=i.charCodeAt(0);function l(w,$){var E,M,C=u(w,function(k,T){if(E)return E(k,T-1);M=k,E=$?customConverter$1(k,$):objectConverter$1(k)});return C.columns=M||[],C}function u(w,$){var E=[],M=w.length,C=0,k=0,T,A=M<=0,D=!1;w.charCodeAt(M-1)===NEWLINE$1&&--M,w.charCodeAt(M-1)===RETURN$1&&--M;function I(){if(A)return EOF$1;if(D)return D=!1,EOL$1;var U,P=C,Y;if(w.charCodeAt(P)===QUOTE$1){for(;C++<M&&w.charCodeAt(C)!==QUOTE$1||w.charCodeAt(++C)===QUOTE$1;);return(U=C)>=M?A=!0:(Y=w.charCodeAt(C++))===NEWLINE$1?D=!0:Y===RETURN$1&&(D=!0,w.charCodeAt(C)===NEWLINE$1&&++C),w.slice(P+1,U-1).replace(/""/g,'"')}for(;C<M;){if((Y=w.charCodeAt(U=C++))===NEWLINE$1)D=!0;else if(Y===RETURN$1)D=!0,w.charCodeAt(C)===NEWLINE$1&&++C;else if(Y!==s)continue;return w.slice(P,U)}return A=!0,w.slice(P,M)}for(;(T=I())!==EOF$1;){for(var S=[];T!==EOL$1&&T!==EOF$1;)S.push(T),T=I();$&&(S=$(S,k++))==null||E.push(S)}return E}function h(w,$){return w.map(function(E){return $.map(function(M){return b(E[M])}).join(i)})}function f(w,$){return $==null&&($=inferColumns$1(w)),[$.map(b).join(i)].concat(h(w,$)).join(`
`)}function p(w,$){return $==null&&($=inferColumns$1(w)),h(w,$).join(`
`)}function _(w){return w.map(g).join(`
`)}function g(w){return w.map(b).join(i)}function b(w){return w==null?"":w instanceof Date?formatDate$1(w):o.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:l,parseRows:u,format:f,formatBody:p,formatRows:_,formatRow:g,formatValue:b}}var csv$2=dsvFormat(","),csvParse$1=csv$2.parse;function responseText(i){if(!i.ok)throw new Error(i.status+" "+i.statusText);return i.text()}function text(i,o){return fetch(i,o).then(responseText)}function dsvParse(i){return function(o,s,l){return arguments.length===2&&typeof s=="function"&&(l=s,s=void 0),text(o,s).then(function(u){return i(u,l)})}}var csv$1=dsvParse(csvParse$1);function ascending(i,o){return i==null||o==null?NaN:i<o?-1:i>o?1:i>=o?0:NaN}function bisector(i){let o,s,l;i.length!==2?(o=ascending,s=(p,_)=>ascending(i(p),_),l=(p,_)=>i(p)-_):(o=i===ascending||i===descending?i:zero,s=i,l=i);function u(p,_,g=0,b=p.length){if(g<b){if(o(_,_)!==0)return b;do{const w=g+b>>>1;s(p[w],_)<0?g=w+1:b=w}while(g<b)}return g}function h(p,_,g=0,b=p.length){if(g<b){if(o(_,_)!==0)return b;do{const w=g+b>>>1;s(p[w],_)<=0?g=w+1:b=w}while(g<b)}return g}function f(p,_,g=0,b=p.length){const w=u(p,_,g,b-1);return w>g&&l(p[w-1],_)>-l(p[w],_)?w-1:w}return{left:u,center:f,right:h}}function zero(){return 0}function number$2(i){return i===null?NaN:+i}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;function extent(i,o){let s,l;if(o===void 0)for(const u of i)u!=null&&(s===void 0?u>=u&&(s=l=u):(s>u&&(s=u),l<u&&(l=u)));else{let u=-1;for(let h of i)(h=o(h,++u,i))!=null&&(s===void 0?h>=h&&(s=l=h):(s>h&&(s=h),l<h&&(l=h)))}return[s,l]}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(i,o,s){const l=(o-i)/Math.max(0,s),u=Math.floor(Math.log10(l)),h=l/Math.pow(10,u),f=h>=e10?10:h>=e5?5:h>=e2?2:1;let p,_,g;return u<0?(g=Math.pow(10,-u)/f,p=Math.round(i*g),_=Math.round(o*g),p/g<i&&++p,_/g>o&&--_,g=-g):(g=Math.pow(10,u)*f,p=Math.round(i/g),_=Math.round(o/g),p*g<i&&++p,_*g>o&&--_),_<p&&.5<=s&&s<2?tickSpec(i,o,s*2):[p,_,g]}function ticks(i,o,s){if(o=+o,i=+i,s=+s,!(s>0))return[];if(i===o)return[i];const l=o<i,[u,h,f]=l?tickSpec(o,i,s):tickSpec(i,o,s);if(!(h>=u))return[];const p=h-u+1,_=new Array(p);if(l)if(f<0)for(let g=0;g<p;++g)_[g]=(h-g)/-f;else for(let g=0;g<p;++g)_[g]=(h-g)*f;else if(f<0)for(let g=0;g<p;++g)_[g]=(u+g)/-f;else for(let g=0;g<p;++g)_[g]=(u+g)*f;return _}function tickIncrement(i,o,s){return o=+o,i=+i,s=+s,tickSpec(i,o,s)[2]}function tickStep(i,o,s){o=+o,i=+i,s=+s;const l=o<i,u=l?tickIncrement(o,i,s):tickIncrement(i,o,s);return(l?-1:1)*(u<0?1/-u:u)}function max(i,o){let s;if(o===void 0)for(const l of i)l!=null&&(s<l||s===void 0&&l>=l)&&(s=l);else{let l=-1;for(let u of i)(u=o(u,++l,i))!=null&&(s<u||s===void 0&&u>=u)&&(s=u)}return s}function mean(i,o){let s=0,l=0;if(o===void 0)for(let u of i)u!=null&&(u=+u)>=u&&(++s,l+=u);else{let u=-1;for(let h of i)(h=o(h,++u,i))!=null&&(h=+h)>=h&&(++s,l+=h)}if(s)return l/s}function range(i,o,s){i=+i,o=+o,s=(u=arguments.length)<2?(o=i,i=0,1):u<3?1:+s;for(var l=-1,u=Math.max(0,Math.ceil((o-i)/s))|0,h=new Array(u);++l<u;)h[l]=i+l*s;return h}function sum(i,o){let s=0;if(o===void 0)for(let l of i)(l=+l)&&(s+=l);else{let l=-1;for(let u of i)(u=+o(u,++l,i))&&(s+=u)}return s}function initRange(i,o){switch(arguments.length){case 0:break;case 1:this.range(i);break;default:this.range(o).domain(i);break}return this}const implicit=Symbol("implicit");function ordinal(){var i=new InternMap,o=[],s=[],l=implicit;function u(h){let f=i.get(h);if(f===void 0){if(l!==implicit)return l;i.set(h,f=o.push(h)-1)}return s[f%s.length]}return u.domain=function(h){if(!arguments.length)return o.slice();o=[],i=new InternMap;for(const f of h)i.has(f)||i.set(f,o.push(f)-1);return u},u.range=function(h){return arguments.length?(s=Array.from(h),u):s.slice()},u.unknown=function(h){return arguments.length?(l=h,u):l},u.copy=function(){return ordinal(o,s).unknown(l)},initRange.apply(u,arguments),u}function band(){var i=ordinal().unknown(void 0),o=i.domain,s=i.range,l=0,u=1,h,f,p=!1,_=0,g=0,b=.5;delete i.unknown;function w(){var $=o().length,E=u<l,M=E?u:l,C=E?l:u;h=(C-M)/Math.max(1,$-_+g*2),p&&(h=Math.floor(h)),M+=(C-M-h*($-_))*b,f=h*(1-_),p&&(M=Math.round(M),f=Math.round(f));var k=range($).map(function(T){return M+h*T});return s(E?k.reverse():k)}return i.domain=function($){return arguments.length?(o($),w()):o()},i.range=function($){return arguments.length?([l,u]=$,l=+l,u=+u,w()):[l,u]},i.rangeRound=function($){return[l,u]=$,l=+l,u=+u,p=!0,w()},i.bandwidth=function(){return f},i.step=function(){return h},i.round=function($){return arguments.length?(p=!!$,w()):p},i.padding=function($){return arguments.length?(_=Math.min(1,g=+$),w()):_},i.paddingInner=function($){return arguments.length?(_=Math.min(1,$),w()):_},i.paddingOuter=function($){return arguments.length?(g=+$,w()):g},i.align=function($){return arguments.length?(b=Math.max(0,Math.min(1,$)),w()):b},i.copy=function(){return band(o(),[l,u]).round(p).paddingInner(_).paddingOuter(g).align(b)},initRange.apply(w(),arguments)}function pointish(i){var o=i.copy;return i.padding=i.paddingOuter,delete i.paddingInner,delete i.paddingOuter,i.copy=function(){return pointish(o())},i}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function numberArray(i,o){o||(o=[]);var s=i?Math.min(o.length,i.length):0,l=o.slice(),u;return function(h){for(u=0;u<s;++u)l[u]=i[u]*(1-h)+o[u]*h;return l}}function isNumberArray(i){return ArrayBuffer.isView(i)&&!(i instanceof DataView)}function genericArray(i,o){var s=o?o.length:0,l=i?Math.min(s,i.length):0,u=new Array(l),h=new Array(s),f;for(f=0;f<l;++f)u[f]=interpolate(i[f],o[f]);for(;f<s;++f)h[f]=o[f];return function(p){for(f=0;f<l;++f)h[f]=u[f](p);return h}}function date$1(i,o){var s=new Date;return i=+i,o=+o,function(l){return s.setTime(i*(1-l)+o*l),s}}function object(i,o){var s={},l={},u;(i===null||typeof i!="object")&&(i={}),(o===null||typeof o!="object")&&(o={});for(u in o)u in i?s[u]=interpolate(i[u],o[u]):l[u]=o[u];return function(h){for(u in s)l[u]=s[u](h);return l}}function interpolate(i,o){var s=typeof o,l;return o==null||s==="boolean"?constant$2(o):(s==="number"?interpolateNumber:s==="string"?(l=color(o))?(o=l,interpolateRgb):interpolateString:o instanceof color?interpolateRgb:o instanceof Date?date$1:isNumberArray(o)?numberArray:Array.isArray(o)?genericArray:typeof o.valueOf!="function"&&typeof o.toString!="function"||isNaN(o)?object:interpolateNumber)(i,o)}function interpolateRound(i,o){return i=+i,o=+o,function(s){return Math.round(i*(1-s)+o*s)}}function constants(i){return function(){return i}}function number$1(i){return+i}var unit=[0,1];function identity$1(i){return i}function normalize(i,o){return(o-=i=+i)?function(s){return(s-i)/o}:constants(isNaN(o)?NaN:.5)}function clamper(i,o){var s;return i>o&&(s=i,i=o,o=s),function(l){return Math.max(i,Math.min(o,l))}}function bimap(i,o,s){var l=i[0],u=i[1],h=o[0],f=o[1];return u<l?(l=normalize(u,l),h=s(f,h)):(l=normalize(l,u),h=s(h,f)),function(p){return h(l(p))}}function polymap(i,o,s){var l=Math.min(i.length,o.length)-1,u=new Array(l),h=new Array(l),f=-1;for(i[l]<i[0]&&(i=i.slice().reverse(),o=o.slice().reverse());++f<l;)u[f]=normalize(i[f],i[f+1]),h[f]=s(o[f],o[f+1]);return function(p){var _=bisectRight(i,p,1,l)-1;return h[_](u[_](p))}}function copy$1(i,o){return o.domain(i.domain()).range(i.range()).interpolate(i.interpolate()).clamp(i.clamp()).unknown(i.unknown())}function transformer(){var i=unit,o=unit,s=interpolate,l,u,h,f=identity$1,p,_,g;function b(){var $=Math.min(i.length,o.length);return f!==identity$1&&(f=clamper(i[0],i[$-1])),p=$>2?polymap:bimap,_=g=null,w}function w($){return $==null||isNaN($=+$)?h:(_||(_=p(i.map(l),o,s)))(l(f($)))}return w.invert=function($){return f(u((g||(g=p(o,i.map(l),interpolateNumber)))($)))},w.domain=function($){return arguments.length?(i=Array.from($,number$1),b()):i.slice()},w.range=function($){return arguments.length?(o=Array.from($),b()):o.slice()},w.rangeRound=function($){return o=Array.from($),s=interpolateRound,b()},w.clamp=function($){return arguments.length?(f=$?!0:identity$1,b()):f!==identity$1},w.interpolate=function($){return arguments.length?(s=$,b()):s},w.unknown=function($){return arguments.length?(h=$,w):h},function($,E){return l=$,u=E,b()}}function continuous(){return transformer()(identity$1,identity$1)}function formatDecimal(i){return Math.abs(i=Math.round(i))>=1e21?i.toLocaleString("en").replace(/,/g,""):i.toString(10)}function formatDecimalParts(i,o){if((s=(i=o?i.toExponential(o-1):i.toExponential()).indexOf("e"))<0)return null;var s,l=i.slice(0,s);return[l.length>1?l[0]+l.slice(2):l,+i.slice(s+1)]}function exponent(i){return i=formatDecimalParts(Math.abs(i)),i?i[1]:NaN}function formatGroup(i,o){return function(s,l){for(var u=s.length,h=[],f=0,p=i[0],_=0;u>0&&p>0&&(_+p+1>l&&(p=Math.max(1,l-_)),h.push(s.substring(u-=p,u+p)),!((_+=p+1)>l));)p=i[f=(f+1)%i.length];return h.reverse().join(o)}}function formatNumerals(i){return function(o){return o.replace(/[0-9]/g,function(s){return i[+s]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(i){if(!(o=re.exec(i)))throw new Error("invalid format: "+i);var o;return new FormatSpecifier({fill:o[1],align:o[2],sign:o[3],symbol:o[4],zero:o[5],width:o[6],comma:o[7],precision:o[8]&&o[8].slice(1),trim:o[9],type:o[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(i){this.fill=i.fill===void 0?" ":i.fill+"",this.align=i.align===void 0?">":i.align+"",this.sign=i.sign===void 0?"-":i.sign+"",this.symbol=i.symbol===void 0?"":i.symbol+"",this.zero=!!i.zero,this.width=i.width===void 0?void 0:+i.width,this.comma=!!i.comma,this.precision=i.precision===void 0?void 0:+i.precision,this.trim=!!i.trim,this.type=i.type===void 0?"":i.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(i){e:for(var o=i.length,s=1,l=-1,u;s<o;++s)switch(i[s]){case".":l=u=s;break;case"0":l===0&&(l=s),u=s;break;default:if(!+i[s])break e;l>0&&(l=0);break}return l>0?i.slice(0,l)+i.slice(u+1):i}var prefixExponent;function formatPrefixAuto(i,o){var s=formatDecimalParts(i,o);if(!s)return i+"";var l=s[0],u=s[1],h=u-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(u/3)))*3)+1,f=l.length;return h===f?l:h>f?l+new Array(h-f+1).join("0"):h>0?l.slice(0,h)+"."+l.slice(h):"0."+new Array(1-h).join("0")+formatDecimalParts(i,Math.max(0,o+h-1))[0]}function formatRounded(i,o){var s=formatDecimalParts(i,o);if(!s)return i+"";var l=s[0],u=s[1];return u<0?"0."+new Array(-u).join("0")+l:l.length>u+1?l.slice(0,u+1)+"."+l.slice(u+1):l+new Array(u-l.length+2).join("0")}const formatTypes={"%":(i,o)=>(i*100).toFixed(o),b:i=>Math.round(i).toString(2),c:i=>i+"",d:formatDecimal,e:(i,o)=>i.toExponential(o),f:(i,o)=>i.toFixed(o),g:(i,o)=>i.toPrecision(o),o:i=>Math.round(i).toString(8),p:(i,o)=>formatRounded(i*100,o),r:formatRounded,s:formatPrefixAuto,X:i=>Math.round(i).toString(16).toUpperCase(),x:i=>Math.round(i).toString(16)};function identity(i){return i}var map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(i){var o=i.grouping===void 0||i.thousands===void 0?identity:formatGroup(map.call(i.grouping,Number),i.thousands+""),s=i.currency===void 0?"":i.currency[0]+"",l=i.currency===void 0?"":i.currency[1]+"",u=i.decimal===void 0?".":i.decimal+"",h=i.numerals===void 0?identity:formatNumerals(map.call(i.numerals,String)),f=i.percent===void 0?"%":i.percent+"",p=i.minus===void 0?"−":i.minus+"",_=i.nan===void 0?"NaN":i.nan+"";function g(w){w=formatSpecifier(w);var $=w.fill,E=w.align,M=w.sign,C=w.symbol,k=w.zero,T=w.width,A=w.comma,D=w.precision,I=w.trim,S=w.type;S==="n"?(A=!0,S="g"):formatTypes[S]||(D===void 0&&(D=12),I=!0,S="g"),(k||$==="0"&&E==="=")&&(k=!0,$="0",E="=");var U=C==="$"?s:C==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=C==="$"?l:/[%p]/.test(S)?f:"",Y=formatTypes[S],G=/[defgprs%]/.test(S);D=D===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,D)):Math.max(0,Math.min(20,D));function V(W){var F=U,H=P,L,z,ne;if(S==="c")H=Y(W)+H,W="";else{W=+W;var oe=W<0||1/W<0;if(W=isNaN(W)?_:Y(Math.abs(W),D),I&&(W=formatTrim(W)),oe&&+W==0&&M!=="+"&&(oe=!1),F=(oe?M==="("?M:p:M==="-"||M==="("?"":M)+F,H=(S==="s"?prefixes[8+prefixExponent/3]:"")+H+(oe&&M==="("?")":""),G){for(L=-1,z=W.length;++L<z;)if(ne=W.charCodeAt(L),48>ne||ne>57){H=(ne===46?u+W.slice(L+1):W.slice(L))+H,W=W.slice(0,L);break}}}A&&!k&&(W=o(W,1/0));var K=F.length+W.length+H.length,J=K<T?new Array(T-K+1).join($):"";switch(A&&k&&(W=o(J+W,J.length?T-H.length:1/0),J=""),E){case"<":W=F+W+H+J;break;case"=":W=F+J+W+H;break;case"^":W=J.slice(0,K=J.length>>1)+F+W+H+J.slice(K);break;default:W=J+F+W+H;break}return h(W)}return V.toString=function(){return w+""},V}function b(w,$){var E=g((w=formatSpecifier(w),w.type="f",w)),M=Math.max(-8,Math.min(8,Math.floor(exponent($)/3)))*3,C=Math.pow(10,-M),k=prefixes[8+M/3];return function(T){return E(C*T)+k}}return{format:g,formatPrefix:b}}var locale$1,format,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(i){return locale$1=formatLocale$1(i),format=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(i){return Math.max(0,-exponent(Math.abs(i)))}function precisionPrefix(i,o){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(o)/3)))*3-exponent(Math.abs(i)))}function precisionRound(i,o){return i=Math.abs(i),o=Math.abs(o)-i,Math.max(0,exponent(o)-exponent(i))+1}function tickFormat(i,o,s,l){var u=tickStep(i,o,s),h;switch(l=formatSpecifier(l??",f"),l.type){case"s":{var f=Math.max(Math.abs(i),Math.abs(o));return l.precision==null&&!isNaN(h=precisionPrefix(u,f))&&(l.precision=h),formatPrefix(l,f)}case"":case"e":case"g":case"p":case"r":{l.precision==null&&!isNaN(h=precisionRound(u,Math.max(Math.abs(i),Math.abs(o))))&&(l.precision=h-(l.type==="e"));break}case"f":case"%":{l.precision==null&&!isNaN(h=precisionFixed(u))&&(l.precision=h-(l.type==="%")*2);break}}return format(l)}function linearish(i){var o=i.domain;return i.ticks=function(s){var l=o();return ticks(l[0],l[l.length-1],s??10)},i.tickFormat=function(s,l){var u=o();return tickFormat(u[0],u[u.length-1],s??10,l)},i.nice=function(s){s==null&&(s=10);var l=o(),u=0,h=l.length-1,f=l[u],p=l[h],_,g,b=10;for(p<f&&(g=f,f=p,p=g,g=u,u=h,h=g);b-- >0;){if(g=tickIncrement(f,p,s),g===_)return l[u]=f,l[h]=p,o(l);if(g>0)f=Math.floor(f/g)*g,p=Math.ceil(p/g)*g;else if(g<0)f=Math.ceil(f*g)/g,p=Math.floor(p*g)/g;else break;_=g}return i},i}function linear(){var i=continuous();return i.copy=function(){return copy$1(i,linear())},initRange.apply(i,arguments),linearish(i)}function nice(i,o){i=i.slice();var s=0,l=i.length-1,u=i[s],h=i[l],f;return h<u&&(f=s,s=l,l=f,f=u,u=h,h=f),i[s]=o.floor(u),i[l]=o.ceil(h),i}function transformPow(i){return function(o){return o<0?-Math.pow(-o,i):Math.pow(o,i)}}function transformSqrt(i){return i<0?-Math.sqrt(-i):Math.sqrt(i)}function transformSquare(i){return i<0?-i*i:i*i}function powish(i){var o=i(identity$1,identity$1),s=1;function l(){return s===1?i(identity$1,identity$1):s===.5?i(transformSqrt,transformSquare):i(transformPow(s),transformPow(1/s))}return o.exponent=function(u){return arguments.length?(s=+u,l()):s},linearish(o)}function pow(){var i=powish(transformer());return i.copy=function(){return copy$1(i,pow()).exponent(i.exponent())},initRange.apply(i,arguments),i}function sqrt(){return pow.apply(null,arguments).exponent(.5)}const t0=new Date,t1=new Date;function timeInterval(i,o,s,l){function u(h){return i(h=arguments.length===0?new Date:new Date(+h)),h}return u.floor=h=>(i(h=new Date(+h)),h),u.ceil=h=>(i(h=new Date(h-1)),o(h,1),i(h),h),u.round=h=>{const f=u(h),p=u.ceil(h);return h-f<p-h?f:p},u.offset=(h,f)=>(o(h=new Date(+h),f==null?1:Math.floor(f)),h),u.range=(h,f,p)=>{const _=[];if(h=u.ceil(h),p=p==null?1:Math.floor(p),!(h<f)||!(p>0))return _;let g;do _.push(g=new Date(+h)),o(h,p),i(h);while(g<h&&h<f);return _},u.filter=h=>timeInterval(f=>{if(f>=f)for(;i(f),!h(f);)f.setTime(f-1)},(f,p)=>{if(f>=f)if(p<0)for(;++p<=0;)for(;o(f,-1),!h(f););else for(;--p>=0;)for(;o(f,1),!h(f););}),s&&(u.count=(h,f)=>(t0.setTime(+h),t1.setTime(+f),i(t0),i(t1),Math.floor(s(t0,t1))),u.every=h=>(h=Math.floor(h),!isFinite(h)||!(h>0)?null:h>1?u.filter(l?f=>l(f)%h===0:f=>u.count(0,f)%h===0):u)),u}const millisecond=timeInterval(()=>{},(i,o)=>{i.setTime(+i+o)},(i,o)=>o-i);millisecond.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?timeInterval(o=>{o.setTime(Math.floor(o/i)*i)},(o,s)=>{o.setTime(+o+s*i)},(o,s)=>(s-o)/i):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(i=>{i.setTime(i-i.getMilliseconds())},(i,o)=>{i.setTime(+i+o*durationSecond)},(i,o)=>(o-i)/durationSecond,i=>i.getUTCSeconds());second.range;const timeMinute=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getMinutes());timeMinute.range;const utcMinute=timeInterval(i=>{i.setUTCSeconds(0,0)},(i,o)=>{i.setTime(+i+o*durationMinute)},(i,o)=>(o-i)/durationMinute,i=>i.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(i=>{i.setTime(i-i.getMilliseconds()-i.getSeconds()*durationSecond-i.getMinutes()*durationMinute)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getHours());timeHour.range;const utcHour=timeInterval(i=>{i.setUTCMinutes(0,0,0)},(i,o)=>{i.setTime(+i+o*durationHour)},(i,o)=>(o-i)/durationHour,i=>i.getUTCHours());utcHour.range;const timeDay=timeInterval(i=>i.setHours(0,0,0,0),(i,o)=>i.setDate(i.getDate()+o),(i,o)=>(o-i-(o.getTimezoneOffset()-i.getTimezoneOffset())*durationMinute)/durationDay,i=>i.getDate()-1);timeDay.range;const utcDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>i.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(i=>{i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCDate(i.getUTCDate()+o)},(i,o)=>(o-i)/durationDay,i=>Math.floor(i/durationDay));unixDay.range;function timeWeekday(i){return timeInterval(o=>{o.setDate(o.getDate()-(o.getDay()+7-i)%7),o.setHours(0,0,0,0)},(o,s)=>{o.setDate(o.getDate()+s*7)},(o,s)=>(s-o-(s.getTimezoneOffset()-o.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(i){return timeInterval(o=>{o.setUTCDate(o.getUTCDate()-(o.getUTCDay()+7-i)%7),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCDate(o.getUTCDate()+s*7)},(o,s)=>(s-o)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(i=>{i.setDate(1),i.setHours(0,0,0,0)},(i,o)=>{i.setMonth(i.getMonth()+o)},(i,o)=>o.getMonth()-i.getMonth()+(o.getFullYear()-i.getFullYear())*12,i=>i.getMonth());timeMonth.range;const utcMonth=timeInterval(i=>{i.setUTCDate(1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCMonth(i.getUTCMonth()+o)},(i,o)=>o.getUTCMonth()-i.getUTCMonth()+(o.getUTCFullYear()-i.getUTCFullYear())*12,i=>i.getUTCMonth());utcMonth.range;const timeYear=timeInterval(i=>{i.setMonth(0,1),i.setHours(0,0,0,0)},(i,o)=>{i.setFullYear(i.getFullYear()+o)},(i,o)=>o.getFullYear()-i.getFullYear(),i=>i.getFullYear());timeYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setFullYear(Math.floor(o.getFullYear()/i)*i),o.setMonth(0,1),o.setHours(0,0,0,0)},(o,s)=>{o.setFullYear(o.getFullYear()+s*i)});timeYear.range;const utcYear=timeInterval(i=>{i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},(i,o)=>{i.setUTCFullYear(i.getUTCFullYear()+o)},(i,o)=>o.getUTCFullYear()-i.getUTCFullYear(),i=>i.getUTCFullYear());utcYear.every=i=>!isFinite(i=Math.floor(i))||!(i>0)?null:timeInterval(o=>{o.setUTCFullYear(Math.floor(o.getUTCFullYear()/i)*i),o.setUTCMonth(0,1),o.setUTCHours(0,0,0,0)},(o,s)=>{o.setUTCFullYear(o.getUTCFullYear()+s*i)});utcYear.range;function ticker(i,o,s,l,u,h){const f=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[h,1,durationMinute],[h,5,5*durationMinute],[h,15,15*durationMinute],[h,30,30*durationMinute],[u,1,durationHour],[u,3,3*durationHour],[u,6,6*durationHour],[u,12,12*durationHour],[l,1,durationDay],[l,2,2*durationDay],[s,1,durationWeek],[o,1,durationMonth],[o,3,3*durationMonth],[i,1,durationYear]];function p(g,b,w){const $=b<g;$&&([g,b]=[b,g]);const E=w&&typeof w.range=="function"?w:_(g,b,w),M=E?E.range(g,+b+1):[];return $?M.reverse():M}function _(g,b,w){const $=Math.abs(b-g)/w,E=bisector(([,,k])=>k).right(f,$);if(E===f.length)return i.every(tickStep(g/durationYear,b/durationYear,w));if(E===0)return millisecond.every(Math.max(tickStep(g,b,w),1));const[M,C]=f[$/f[E-1][2]<f[E][2]/$?E-1:E];return M.every(C)}return[p,_]}const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(i){if(0<=i.y&&i.y<100){var o=new Date(-1,i.m,i.d,i.H,i.M,i.S,i.L);return o.setFullYear(i.y),o}return new Date(i.y,i.m,i.d,i.H,i.M,i.S,i.L)}function utcDate(i){if(0<=i.y&&i.y<100){var o=new Date(Date.UTC(-1,i.m,i.d,i.H,i.M,i.S,i.L));return o.setUTCFullYear(i.y),o}return new Date(Date.UTC(i.y,i.m,i.d,i.H,i.M,i.S,i.L))}function newDate(i,o,s){return{y:i,m:o,d:s,H:0,M:0,S:0,L:0}}function formatLocale(i){var o=i.dateTime,s=i.date,l=i.time,u=i.periods,h=i.days,f=i.shortDays,p=i.months,_=i.shortMonths,g=formatRe(u),b=formatLookup(u),w=formatRe(h),$=formatLookup(h),E=formatRe(f),M=formatLookup(f),C=formatRe(p),k=formatLookup(p),T=formatRe(_),A=formatLookup(_),D={a:oe,A:K,b:J,B:ue,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ye,q:me,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear$1,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},I={a:ce,A:pe,b:he,B:ve,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:ge,q:se,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},S={a:V,A:W,b:F,B:H,c:L,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:G,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:z,X:ne,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};D.x=U(s,D),D.X=U(l,D),D.c=U(o,D),I.x=U(s,I),I.X=U(l,I),I.c=U(o,I);function U(R,q){return function(O){var N=[],Z=-1,j=0,B=R.length,X,ie,le;for(O instanceof Date||(O=new Date(+O));++Z<B;)R.charCodeAt(Z)===37&&(N.push(R.slice(j,Z)),(ie=pads[X=R.charAt(++Z)])!=null?X=R.charAt(++Z):ie=X==="e"?" ":"0",(le=q[X])&&(X=le(O,ie)),N.push(X),j=Z+1);return N.push(R.slice(j,Z)),N.join("")}}function P(R,q){return function(O){var N=newDate(1900,void 0,1),Z=Y(N,R,O+="",0),j,B;if(Z!=O.length)return null;if("Q"in N)return new Date(N.Q);if("s"in N)return new Date(N.s*1e3+("L"in N?N.L:0));if(q&&!("Z"in N)&&(N.Z=0),"p"in N&&(N.H=N.H%12+N.p*12),N.m===void 0&&(N.m="q"in N?N.q:0),"V"in N){if(N.V<1||N.V>53)return null;"w"in N||(N.w=1),"Z"in N?(j=utcDate(newDate(N.y,0,1)),B=j.getUTCDay(),j=B>4||B===0?utcMonday.ceil(j):utcMonday(j),j=utcDay.offset(j,(N.V-1)*7),N.y=j.getUTCFullYear(),N.m=j.getUTCMonth(),N.d=j.getUTCDate()+(N.w+6)%7):(j=localDate(newDate(N.y,0,1)),B=j.getDay(),j=B>4||B===0?timeMonday.ceil(j):timeMonday(j),j=timeDay.offset(j,(N.V-1)*7),N.y=j.getFullYear(),N.m=j.getMonth(),N.d=j.getDate()+(N.w+6)%7)}else("W"in N||"U"in N)&&("w"in N||(N.w="u"in N?N.u%7:"W"in N?1:0),B="Z"in N?utcDate(newDate(N.y,0,1)).getUTCDay():localDate(newDate(N.y,0,1)).getDay(),N.m=0,N.d="W"in N?(N.w+6)%7+N.W*7-(B+5)%7:N.w+N.U*7-(B+6)%7);return"Z"in N?(N.H+=N.Z/100|0,N.M+=N.Z%100,utcDate(N)):localDate(N)}}function Y(R,q,O,N){for(var Z=0,j=q.length,B=O.length,X,ie;Z<j;){if(N>=B)return-1;if(X=q.charCodeAt(Z++),X===37){if(X=q.charAt(Z++),ie=S[X in pads?q.charAt(Z++):X],!ie||(N=ie(R,O,N))<0)return-1}else if(X!=O.charCodeAt(N++))return-1}return N}function G(R,q,O){var N=g.exec(q.slice(O));return N?(R.p=b.get(N[0].toLowerCase()),O+N[0].length):-1}function V(R,q,O){var N=E.exec(q.slice(O));return N?(R.w=M.get(N[0].toLowerCase()),O+N[0].length):-1}function W(R,q,O){var N=w.exec(q.slice(O));return N?(R.w=$.get(N[0].toLowerCase()),O+N[0].length):-1}function F(R,q,O){var N=T.exec(q.slice(O));return N?(R.m=A.get(N[0].toLowerCase()),O+N[0].length):-1}function H(R,q,O){var N=C.exec(q.slice(O));return N?(R.m=k.get(N[0].toLowerCase()),O+N[0].length):-1}function L(R,q,O){return Y(R,o,q,O)}function z(R,q,O){return Y(R,s,q,O)}function ne(R,q,O){return Y(R,l,q,O)}function oe(R){return f[R.getDay()]}function K(R){return h[R.getDay()]}function J(R){return _[R.getMonth()]}function ue(R){return p[R.getMonth()]}function ye(R){return u[+(R.getHours()>=12)]}function me(R){return 1+~~(R.getMonth()/3)}function ce(R){return f[R.getUTCDay()]}function pe(R){return h[R.getUTCDay()]}function he(R){return _[R.getUTCMonth()]}function ve(R){return p[R.getUTCMonth()]}function ge(R){return u[+(R.getUTCHours()>=12)]}function se(R){return 1+~~(R.getUTCMonth()/3)}return{format:function(R){var q=U(R+="",D);return q.toString=function(){return R},q},parse:function(R){var q=P(R+="",!1);return q.toString=function(){return R},q},utcFormat:function(R){var q=U(R+="",I);return q.toString=function(){return R},q},utcParse:function(R){var q=P(R+="",!0);return q.toString=function(){return R},q}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad$1(i,o,s){var l=i<0?"-":"",u=(l?-i:i)+"",h=u.length;return l+(h<s?new Array(s-h+1).join(o)+u:u)}function requote(i){return i.replace(requoteRe,"\\$&")}function formatRe(i){return new RegExp("^(?:"+i.map(requote).join("|")+")","i")}function formatLookup(i){return new Map(i.map((o,s)=>[o.toLowerCase(),s]))}function parseWeekdayNumberSunday(i,o,s){var l=numberRe.exec(o.slice(s,s+1));return l?(i.w=+l[0],s+l[0].length):-1}function parseWeekdayNumberMonday(i,o,s){var l=numberRe.exec(o.slice(s,s+1));return l?(i.u=+l[0],s+l[0].length):-1}function parseWeekNumberSunday(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.U=+l[0],s+l[0].length):-1}function parseWeekNumberISO(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.V=+l[0],s+l[0].length):-1}function parseWeekNumberMonday(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.W=+l[0],s+l[0].length):-1}function parseFullYear(i,o,s){var l=numberRe.exec(o.slice(s,s+4));return l?(i.y=+l[0],s+l[0].length):-1}function parseYear(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.y=+l[0]+(+l[0]>68?1900:2e3),s+l[0].length):-1}function parseZone(i,o,s){var l=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(o.slice(s,s+6));return l?(i.Z=l[1]?0:-(l[2]+(l[3]||"00")),s+l[0].length):-1}function parseQuarter(i,o,s){var l=numberRe.exec(o.slice(s,s+1));return l?(i.q=l[0]*3-3,s+l[0].length):-1}function parseMonthNumber(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.m=l[0]-1,s+l[0].length):-1}function parseDayOfMonth(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.d=+l[0],s+l[0].length):-1}function parseDayOfYear(i,o,s){var l=numberRe.exec(o.slice(s,s+3));return l?(i.m=0,i.d=+l[0],s+l[0].length):-1}function parseHour24(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.H=+l[0],s+l[0].length):-1}function parseMinutes(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.M=+l[0],s+l[0].length):-1}function parseSeconds(i,o,s){var l=numberRe.exec(o.slice(s,s+2));return l?(i.S=+l[0],s+l[0].length):-1}function parseMilliseconds(i,o,s){var l=numberRe.exec(o.slice(s,s+3));return l?(i.L=+l[0],s+l[0].length):-1}function parseMicroseconds(i,o,s){var l=numberRe.exec(o.slice(s,s+6));return l?(i.L=Math.floor(l[0]/1e3),s+l[0].length):-1}function parseLiteralPercent(i,o,s){var l=percentRe.exec(o.slice(s,s+1));return l?s+l[0].length:-1}function parseUnixTimestamp(i,o,s){var l=numberRe.exec(o.slice(s));return l?(i.Q=+l[0],s+l[0].length):-1}function parseUnixTimestampSeconds(i,o,s){var l=numberRe.exec(o.slice(s));return l?(i.s=+l[0],s+l[0].length):-1}function formatDayOfMonth(i,o){return pad$1(i.getDate(),o,2)}function formatHour24(i,o){return pad$1(i.getHours(),o,2)}function formatHour12(i,o){return pad$1(i.getHours()%12||12,o,2)}function formatDayOfYear(i,o){return pad$1(1+timeDay.count(timeYear(i),i),o,3)}function formatMilliseconds(i,o){return pad$1(i.getMilliseconds(),o,3)}function formatMicroseconds(i,o){return formatMilliseconds(i,o)+"000"}function formatMonthNumber(i,o){return pad$1(i.getMonth()+1,o,2)}function formatMinutes(i,o){return pad$1(i.getMinutes(),o,2)}function formatSeconds(i,o){return pad$1(i.getSeconds(),o,2)}function formatWeekdayNumberMonday(i){var o=i.getDay();return o===0?7:o}function formatWeekNumberSunday(i,o){return pad$1(timeSunday.count(timeYear(i)-1,i),o,2)}function dISO(i){var o=i.getDay();return o>=4||o===0?timeThursday(i):timeThursday.ceil(i)}function formatWeekNumberISO(i,o){return i=dISO(i),pad$1(timeThursday.count(timeYear(i),i)+(timeYear(i).getDay()===4),o,2)}function formatWeekdayNumberSunday(i){return i.getDay()}function formatWeekNumberMonday(i,o){return pad$1(timeMonday.count(timeYear(i)-1,i),o,2)}function formatYear$1(i,o){return pad$1(i.getFullYear()%100,o,2)}function formatYearISO(i,o){return i=dISO(i),pad$1(i.getFullYear()%100,o,2)}function formatFullYear(i,o){return pad$1(i.getFullYear()%1e4,o,4)}function formatFullYearISO(i,o){var s=i.getDay();return i=s>=4||s===0?timeThursday(i):timeThursday.ceil(i),pad$1(i.getFullYear()%1e4,o,4)}function formatZone(i){var o=i.getTimezoneOffset();return(o>0?"-":(o*=-1,"+"))+pad$1(o/60|0,"0",2)+pad$1(o%60,"0",2)}function formatUTCDayOfMonth(i,o){return pad$1(i.getUTCDate(),o,2)}function formatUTCHour24(i,o){return pad$1(i.getUTCHours(),o,2)}function formatUTCHour12(i,o){return pad$1(i.getUTCHours()%12||12,o,2)}function formatUTCDayOfYear(i,o){return pad$1(1+utcDay.count(utcYear(i),i),o,3)}function formatUTCMilliseconds(i,o){return pad$1(i.getUTCMilliseconds(),o,3)}function formatUTCMicroseconds(i,o){return formatUTCMilliseconds(i,o)+"000"}function formatUTCMonthNumber(i,o){return pad$1(i.getUTCMonth()+1,o,2)}function formatUTCMinutes(i,o){return pad$1(i.getUTCMinutes(),o,2)}function formatUTCSeconds(i,o){return pad$1(i.getUTCSeconds(),o,2)}function formatUTCWeekdayNumberMonday(i){var o=i.getUTCDay();return o===0?7:o}function formatUTCWeekNumberSunday(i,o){return pad$1(utcSunday.count(utcYear(i)-1,i),o,2)}function UTCdISO(i){var o=i.getUTCDay();return o>=4||o===0?utcThursday(i):utcThursday.ceil(i)}function formatUTCWeekNumberISO(i,o){return i=UTCdISO(i),pad$1(utcThursday.count(utcYear(i),i)+(utcYear(i).getUTCDay()===4),o,2)}function formatUTCWeekdayNumberSunday(i){return i.getUTCDay()}function formatUTCWeekNumberMonday(i,o){return pad$1(utcMonday.count(utcYear(i)-1,i),o,2)}function formatUTCYear(i,o){return pad$1(i.getUTCFullYear()%100,o,2)}function formatUTCYearISO(i,o){return i=UTCdISO(i),pad$1(i.getUTCFullYear()%100,o,2)}function formatUTCFullYear(i,o){return pad$1(i.getUTCFullYear()%1e4,o,4)}function formatUTCFullYearISO(i,o){var s=i.getUTCDay();return i=s>=4||s===0?utcThursday(i):utcThursday.ceil(i),pad$1(i.getUTCFullYear()%1e4,o,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(i){return+i}function formatUnixTimestampSeconds(i){return Math.floor(+i/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(i){return locale=formatLocale(i),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(i){return new Date(i)}function number(i){return i instanceof Date?+i:+new Date(+i)}function calendar(i,o,s,l,u,h,f,p,_,g){var b=continuous(),w=b.invert,$=b.domain,E=g(".%L"),M=g(":%S"),C=g("%I:%M"),k=g("%I %p"),T=g("%a %d"),A=g("%b %d"),D=g("%B"),I=g("%Y");function S(U){return(_(U)<U?E:p(U)<U?M:f(U)<U?C:h(U)<U?k:l(U)<U?u(U)<U?T:A:s(U)<U?D:I)(U)}return b.invert=function(U){return new Date(w(U))},b.domain=function(U){return arguments.length?$(Array.from(U,number)):$().map(date)},b.ticks=function(U){var P=$();return i(P[0],P[P.length-1],U??10)},b.tickFormat=function(U,P){return P==null?S:g(P)},b.nice=function(U){var P=$();return(!U||typeof U.range!="function")&&(U=o(P[0],P[P.length-1],U??10)),U?$(nice(P,U)):b},b.copy=function(){return copy$1(b,calendar(i,o,s,l,u,h,f,p,_,g))},b}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function constant$1(i){return function(){return i}}const pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append(i){this._+=i[0];for(let o=1,s=i.length;o<s;++o)this._+=arguments[o]+i[o]}function appendRound(i){let o=Math.floor(i);if(!(o>=0))throw new Error(`invalid digits: ${i}`);if(o>15)return append;const s=10**o;return function(l){this._+=l[0];for(let u=1,h=l.length;u<h;++u)this._+=Math.round(arguments[u]*s)/s+l[u]}}class Path{constructor(o){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=o==null?append:appendRound(o)}moveTo(o,s){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+s}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(o,s){this._append`L${this._x1=+o},${this._y1=+s}`}quadraticCurveTo(o,s,l,u){this._append`Q${+o},${+s},${this._x1=+l},${this._y1=+u}`}bezierCurveTo(o,s,l,u,h,f){this._append`C${+o},${+s},${+l},${+u},${this._x1=+h},${this._y1=+f}`}arcTo(o,s,l,u,h){if(o=+o,s=+s,l=+l,u=+u,h=+h,h<0)throw new Error(`negative radius: ${h}`);let f=this._x1,p=this._y1,_=l-o,g=u-s,b=f-o,w=p-s,$=b*b+w*w;if(this._x1===null)this._append`M${this._x1=o},${this._y1=s}`;else if($>epsilon)if(!(Math.abs(w*_-g*b)>epsilon)||!h)this._append`L${this._x1=o},${this._y1=s}`;else{let E=l-f,M=u-p,C=_*_+g*g,k=E*E+M*M,T=Math.sqrt(C),A=Math.sqrt($),D=h*Math.tan((pi-Math.acos((C+$-k)/(2*T*A)))/2),I=D/A,S=D/T;Math.abs(I-1)>epsilon&&this._append`L${o+I*b},${s+I*w}`,this._append`A${h},${h},0,0,${+(w*E>b*M)},${this._x1=o+S*_},${this._y1=s+S*g}`}}arc(o,s,l,u,h,f){if(o=+o,s=+s,l=+l,f=!!f,l<0)throw new Error(`negative radius: ${l}`);let p=l*Math.cos(u),_=l*Math.sin(u),g=o+p,b=s+_,w=1^f,$=f?u-h:h-u;this._x1===null?this._append`M${g},${b}`:(Math.abs(this._x1-g)>epsilon||Math.abs(this._y1-b)>epsilon)&&this._append`L${g},${b}`,l&&($<0&&($=$%tau+tau),$>tauEpsilon?this._append`A${l},${l},0,1,${w},${o-p},${s-_}A${l},${l},0,1,${w},${this._x1=g},${this._y1=b}`:$>epsilon&&this._append`A${l},${l},0,${+($>=pi)},${w},${this._x1=o+l*Math.cos(h)},${this._y1=s+l*Math.sin(h)}`)}rect(o,s,l,u){this._append`M${this._x0=this._x1=+o},${this._y0=this._y1=+s}h${l=+l}v${+u}h${-l}Z`}toString(){return this._}}function withPath(i){let o=3;return i.digits=function(s){if(!arguments.length)return o;if(s==null)o=null;else{const l=Math.floor(s);if(!(l>=0))throw new RangeError(`invalid digits: ${s}`);o=l}return i},()=>new Path(o)}function array(i){return typeof i=="object"&&"length"in i?i:Array.from(i)}function Linear(i){this._context=i}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(i,o){switch(i=+i,o=+o,this._point){case 0:this._point=1,this._line?this._context.lineTo(i,o):this._context.moveTo(i,o);break;case 1:this._point=2;default:this._context.lineTo(i,o);break}}};function curveLinear(i){return new Linear(i)}function x$2(i){return i[0]}function y$2(i){return i[1]}function line(i,o){var s=constant$1(!0),l=null,u=curveLinear,h=null,f=withPath(p);i=typeof i=="function"?i:i===void 0?x$2:constant$1(i),o=typeof o=="function"?o:o===void 0?y$2:constant$1(o);function p(_){var g,b=(_=array(_)).length,w,$=!1,E;for(l==null&&(h=u(E=f())),g=0;g<=b;++g)!(g<b&&s(w=_[g],g,_))===$&&(($=!$)?h.lineStart():h.lineEnd()),$&&h.point(+i(w,g,_),+o(w,g,_));if(E)return h=null,E+""||null}return p.x=function(_){return arguments.length?(i=typeof _=="function"?_:constant$1(+_),p):i},p.y=function(_){return arguments.length?(o=typeof _=="function"?_:constant$1(+_),p):o},p.defined=function(_){return arguments.length?(s=typeof _=="function"?_:constant$1(!!_),p):s},p.curve=function(_){return arguments.length?(u=_,l!=null&&(h=u(l)),p):u},p.context=function(_){return arguments.length?(_==null?l=h=null:h=u(l=_),p):l},p}var curveRadialLinear=curveRadial(curveLinear);function Radial(i){this._curve=i}Radial.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(i,o){this._curve.point(o*Math.sin(i),o*-Math.cos(i))}};function curveRadial(i){function o(s){return new Radial(i(s))}return o._curve=i,o}function lineRadial(i){var o=i.curve;return i.angle=i.x,delete i.x,i.radius=i.y,delete i.y,i.curve=function(s){return arguments.length?o(curveRadial(s)):o()._curve},i}function lineRadial$1(){return lineRadial(line().curve(curveRadialLinear))}function get_each_context$3(i,o,s){const l=i.slice();return l[13]=o[s],l}function get_each_context_1$3(i,o,s){const l=i.slice();return l[13]=o[s],l}function create_if_block$4(i){let o,s="Percentage of Negative Songs Over Time",l,u,h,f,p,_,g,b,w,$,E,M=`This chart reveals a clear upward trend in the percentage of songs with a
			predominantly negative emotional sentiment, particularly since the
			mid-2010s.`,C=ensure_array_like(i[3].ticks(10)),k=[];for(let D=0;D<C.length;D+=1)k[D]=create_each_block_1$3(get_each_context_1$3(i,C,D));let T=ensure_array_like(i[2].ticks(5)),A=[];for(let D=0;D<T.length;D+=1)A[D]=create_each_block$3(get_each_context$3(i,T,D));return{c(){o=element("h3"),o.textContent=s,l=space(),u=svg_element("svg"),h=svg_element("g"),f=svg_element("path"),_=svg_element("g");for(let D=0;D<k.length;D+=1)k[D].c();b=svg_element("g");for(let D=0;D<A.length;D+=1)A[D].c();$=space(),E=element("p"),E.textContent=M,this.h()},l(D){o=claim_element(D,"H3",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-31xtl"&&(o.textContent=s),l=claim_space(D),u=claim_svg_element(D,"svg",{width:!0,height:!0});var I=children(u);h=claim_svg_element(I,"g",{transform:!0});var S=children(h);f=claim_svg_element(S,"path",{class:!0,d:!0}),children(f).forEach(detach),_=claim_svg_element(S,"g",{class:!0,transform:!0});var U=children(_);for(let Y=0;Y<k.length;Y+=1)k[Y].l(U);U.forEach(detach),b=claim_svg_element(S,"g",{class:!0});var P=children(b);for(let Y=0;Y<A.length;Y+=1)A[Y].l(P);P.forEach(detach),S.forEach(detach),I.forEach(detach),$=claim_space(D),E=claim_element(D,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-pa7tg5"&&(E.textContent=M),this.h()},h(){attr(o,"class","chart-title svelte-q7472g"),attr(f,"class","chart-line svelte-q7472g"),attr(f,"d",p=i[8](i[0])),attr(_,"class","x-axis svelte-q7472g"),attr(_,"transform",g="translate(0, "+i[4]+")"),attr(b,"class","y-axis svelte-q7472g"),attr(h,"transform",w="translate("+i[6].left+", "+i[6].top+")"),attr(u,"width",i[1]),attr(u,"height",height$3),attr(E,"class","chart-description svelte-q7472g")},m(D,I){insert_hydration(D,o,I),insert_hydration(D,l,I),insert_hydration(D,u,I),append_hydration(u,h),append_hydration(h,f),append_hydration(h,_);for(let S=0;S<k.length;S+=1)k[S]&&k[S].m(_,null);append_hydration(h,b);for(let S=0;S<A.length;S+=1)A[S]&&A[S].m(b,null);insert_hydration(D,$,I),insert_hydration(D,E,I)},p(D,I){if(I&257&&p!==(p=D[8](D[0]))&&attr(f,"d",p),I&520){C=ensure_array_like(D[3].ticks(10));let S;for(S=0;S<C.length;S+=1){const U=get_each_context_1$3(D,C,S);k[S]?k[S].p(U,I):(k[S]=create_each_block_1$3(U),k[S].c(),k[S].m(_,null))}for(;S<k.length;S+=1)k[S].d(1);k.length=C.length}if(I&16&&g!==(g="translate(0, "+D[4]+")")&&attr(_,"transform",g),I&36){T=ensure_array_like(D[2].ticks(5));let S;for(S=0;S<T.length;S+=1){const U=get_each_context$3(D,T,S);A[S]?A[S].p(U,I):(A[S]=create_each_block$3(U),A[S].c(),A[S].m(b,null))}for(;S<A.length;S+=1)A[S].d(1);A.length=T.length}I&64&&w!==(w="translate("+D[6].left+", "+D[6].top+")")&&attr(h,"transform",w),I&2&&attr(u,"width",D[1])},d(D){D&&(detach(o),detach(l),detach(u),detach($),detach(E)),destroy_each(k,D),destroy_each(A,D)}}}function create_each_block_1$3(i){let o,s,l,u=i[9](i[13])+"",h,f;return{c(){o=svg_element("g"),s=svg_element("line"),l=svg_element("text"),h=text$1(u),this.h()},l(p){o=claim_svg_element(p,"g",{class:!0,transform:!0});var _=children(o);s=claim_svg_element(_,"line",{y2:!0,stroke:!0,class:!0}),children(s).forEach(detach),l=claim_svg_element(_,"text",{dy:!0,y:!0,"text-anchor":!0,class:!0});var g=children(l);h=claim_text(g,u),g.forEach(detach),_.forEach(detach),this.h()},h(){attr(s,"y2","6"),attr(s,"stroke","currentColor"),attr(s,"class","svelte-q7472g"),attr(l,"dy","0.71em"),attr(l,"y","9"),attr(l,"text-anchor","middle"),attr(l,"class","svelte-q7472g"),attr(o,"class","tick svelte-q7472g"),attr(o,"transform",f="translate("+i[3](i[13])+", 0)")},m(p,_){insert_hydration(p,o,_),append_hydration(o,s),append_hydration(o,l),append_hydration(l,h)},p(p,_){_&8&&u!==(u=p[9](p[13])+"")&&set_data(h,u),_&8&&f!==(f="translate("+p[3](p[13])+", 0)")&&attr(o,"transform",f)},d(p){p&&detach(o)}}}function create_each_block$3(i){let o,s,l,u=i[13]*100+"",h,f,p;return{c(){o=svg_element("g"),s=svg_element("line"),l=svg_element("text"),h=text$1(u),f=text$1("%"),this.h()},l(_){o=claim_svg_element(_,"g",{class:!0,transform:!0});var g=children(o);s=claim_svg_element(g,"line",{x2:!0,stroke:!0,class:!0}),children(s).forEach(detach),l=claim_svg_element(g,"text",{x:!0,dy:!0,"text-anchor":!0,class:!0});var b=children(l);h=claim_text(b,u),f=claim_text(b,"%"),b.forEach(detach),g.forEach(detach),this.h()},h(){attr(s,"x2",i[5]),attr(s,"stroke","currentColor"),attr(s,"class","svelte-q7472g"),attr(l,"x","-9"),attr(l,"dy","0.32em"),attr(l,"text-anchor","end"),attr(l,"class","svelte-q7472g"),attr(o,"class","tick svelte-q7472g"),attr(o,"transform",p="translate(0, "+i[2](i[13])+")")},m(_,g){insert_hydration(_,o,g),append_hydration(o,s),append_hydration(o,l),append_hydration(l,h),append_hydration(l,f)},p(_,g){g&32&&attr(s,"x2",_[5]),g&4&&u!==(u=_[13]*100+"")&&set_data(h,u),g&4&&p!==(p="translate(0, "+_[2](_[13])+")")&&attr(o,"transform",p)},d(_){_&&detach(o)}}}function create_fragment$b(i){let o,s,l,u=i[0].length>0&&create_if_block$4(i);return{c(){o=element("div"),u&&u.c(),this.h()},l(h){o=claim_element(h,"DIV",{class:!0});var f=children(o);u&&u.l(f),f.forEach(detach),this.h()},h(){attr(o,"class","chart-container svelte-q7472g")},m(h,f){insert_hydration(h,o,f),u&&u.m(o,null),i[11](o),s||(l=listen(o,"resize",i[10]),s=!0)},p(h,[f]){h[0].length>0?u?u.p(h,f):(u=create_if_block$4(h),u.c(),u.m(o,null)):u&&(u.d(1),u=null)},i:noop,o:noop,d(h){h&&detach(o),u&&u.d(),i[11](null),s=!1,l()}}}let height$3=400;function instance$9(i,o,s){let l,u,h,f,p,_,g=[],b=800,w;const $=timeFormat("%Y"),E=k=>{const A=k.filter(D=>{const I=+D.chart_week.slice(0,4);return I>=1960&&I<=2020}).reduce((D,I)=>{const S=I.chart_week.slice(0,4);return D[S]||(D[S]={total:0,negative:0}),D[S].total++,I.Sentiment==="Negative"&&D[S].negative++,D},{});return Object.entries(A).map(([D,{total:I,negative:S}])=>({year:new Date(D),percentage:S/I}))};onMount(async()=>{s(0,g=E(await csv$1("assets/billboard.csv")))});function M(){s(1,b=w.clientWidth)}function C(k){binding_callbacks[k?"unshift":"push"](()=>{w=k,s(7,w)})}return i.$$.update=()=>{i.$$.dirty&66&&s(5,u=b-l.left-l.right),i.$$.dirty&64&&s(4,h=height$3-l.top-l.bottom),i.$$.dirty&33&&s(3,f=time().domain(extent(g,k=>k.year)).range([0,u])),i.$$.dirty&16&&s(2,p=linear().domain([0,1]).range([h,0])),i.$$.dirty&12&&s(8,_=line().x(k=>f(k.year)).y(k=>p(k.percentage)).defined(k=>k.year>=new Date("1960")&&k.year<=new Date("2020")))},s(6,l={top:20,right:30,bottom:30,left:40}),[g,b,p,f,h,u,l,w,_,$,M,C]}class NegativeSongsChart extends SvelteComponent{constructor(o){super(),init(this,o,instance$9,create_fragment$b,safe_not_equal,{})}}function get_each_context$2(i,o,s){const l=i.slice();return l[14]=o[s],l[15]=o,l[16]=s,l}function get_each_context_1$2(i,o,s){const l=i.slice();return l[17]=o[s],l}function get_each_context_2(i,o,s){const l=i.slice();return l[17]=o[s],l}function create_if_block$3(i){let o,s="Average Emotions in Songs Over Time",l,u,h,f,p=`These small multiples reveal the evolving emotional landscape of popular
			music, with negative emotions like sadness, fear, and anger on the rise,
			while joy, though still prevalent, shows a relative decline.`,_=ensure_array_like(i[5]),g=[];for(let b=0;b<_.length;b+=1)g[b]=create_each_block$2(get_each_context$2(i,_,b));return{c(){o=element("h3"),o.textContent=s,l=space(),u=element("div");for(let b=0;b<g.length;b+=1)g[b].c();h=space(),f=element("p"),f.textContent=p,this.h()},l(b){o=claim_element(b,"H3",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-1hpxoj"&&(o.textContent=s),l=claim_space(b),u=claim_element(b,"DIV",{class:!0});var w=children(u);for(let $=0;$<g.length;$+=1)g[$].l(w);w.forEach(detach),h=claim_space(b),f=claim_element(b,"P",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(f)!=="svelte-1cyquby"&&(f.textContent=p),this.h()},h(){attr(o,"class","chart-title svelte-1qtg1r"),attr(u,"class","small-multiples svelte-1qtg1r"),attr(f,"class","chart-description svelte-1qtg1r")},m(b,w){insert_hydration(b,o,w),insert_hydration(b,l,w),insert_hydration(b,u,w);for(let $=0;$<g.length;$+=1)g[$]&&g[$].m(u,null);insert_hydration(b,h,w),insert_hydration(b,f,w)},p(b,w){if(w&2047){_=ensure_array_like(b[5]);let $;for($=0;$<_.length;$+=1){const E=get_each_context$2(b,_,$);g[$]?g[$].p(E,w):(g[$]=create_each_block$2(E),g[$].c(),g[$].m(u,null))}for(;$<g.length;$+=1)g[$].d(1);g.length=_.length}},d(b){b&&(detach(o),detach(l),detach(u),detach(h),detach(f)),destroy_each(g,b)}}}function create_each_block_2(i){let o,s,l,u=i[10](i[17])+"",h,f;return{c(){o=svg_element("g"),s=svg_element("line"),l=svg_element("text"),h=text$1(u),this.h()},l(p){o=claim_svg_element(p,"g",{class:!0,transform:!0});var _=children(o);s=claim_svg_element(_,"line",{y2:!0,stroke:!0,class:!0}),children(s).forEach(detach),l=claim_svg_element(_,"text",{dy:!0,y:!0,"text-anchor":!0,class:!0});var g=children(l);h=claim_text(g,u),g.forEach(detach),_.forEach(detach),this.h()},h(){attr(s,"y2","6"),attr(s,"stroke","currentColor"),attr(s,"class","svelte-1qtg1r"),attr(l,"dy","0.71em"),attr(l,"y","9"),attr(l,"text-anchor","middle"),attr(l,"class","svelte-1qtg1r"),attr(o,"class","tick svelte-1qtg1r"),attr(o,"transform",f="translate("+i[2](i[17])+", 0)")},m(p,_){insert_hydration(p,o,_),append_hydration(o,s),append_hydration(o,l),append_hydration(l,h)},p(p,_){_&4&&u!==(u=p[10](p[17])+"")&&set_data(h,u),_&4&&f!==(f="translate("+p[2](p[17])+", 0)")&&attr(o,"transform",f)},d(p){p&&detach(o)}}}function create_each_block_1$2(i){let o,s,l,u=i[17]+"",h,f;return{c(){o=svg_element("g"),s=svg_element("line"),l=svg_element("text"),h=text$1(u),this.h()},l(p){o=claim_svg_element(p,"g",{class:!0,transform:!0});var _=children(o);s=claim_svg_element(_,"line",{x2:!0,stroke:!0,class:!0}),children(s).forEach(detach),l=claim_svg_element(_,"text",{x:!0,dy:!0,"text-anchor":!0,class:!0});var g=children(l);h=claim_text(g,u),g.forEach(detach),_.forEach(detach),this.h()},h(){attr(s,"x2",i[8]),attr(s,"stroke","currentColor"),attr(s,"class","svelte-1qtg1r"),attr(l,"x","-9"),attr(l,"dy","0.32em"),attr(l,"text-anchor","end"),attr(l,"class","svelte-1qtg1r"),attr(o,"class","tick svelte-1qtg1r"),attr(o,"transform",f="translate(0, "+i[3](i[17])+")")},m(p,_){insert_hydration(p,o,_),append_hydration(o,s),append_hydration(o,l),append_hydration(l,h)},p(p,_){_&8&&u!==(u=p[17]+"")&&set_data(h,u),_&8&&f!==(f="translate(0, "+p[3](p[17])+")")&&attr(o,"transform",f)},d(p){p&&detach(o)}}}function create_each_block$2(i){let o,s,l,u,h,f,p,_,g,b=i[14]+"",w,$,E=i[16],M=ensure_array_like(i[2].ticks(3)),C=[];for(let I=0;I<M.length;I+=1)C[I]=create_each_block_2(get_each_context_2(i,M,I));let k=ensure_array_like(i[3].ticks(3)),T=[];for(let I=0;I<k.length;I+=1)T[I]=create_each_block_1$2(get_each_context_1$2(i,k,I));const A=()=>i[11](o,E),D=()=>i[11](null,E);return{c(){o=element("div"),s=svg_element("svg"),l=svg_element("g"),u=svg_element("path"),f=svg_element("g");for(let I=0;I<C.length;I+=1)C[I].c();p=svg_element("g");for(let I=0;I<T.length;I+=1)T[I].c();_=space(),g=element("div"),w=text$1(b),$=space(),this.h()},l(I){o=claim_element(I,"DIV",{class:!0});var S=children(o);s=claim_svg_element(S,"svg",{width:!0,height:!0});var U=children(s);l=claim_svg_element(U,"g",{transform:!0});var P=children(l);u=claim_svg_element(P,"path",{class:!0,d:!0,stroke:!0}),children(u).forEach(detach),f=claim_svg_element(P,"g",{class:!0,transform:!0});var Y=children(f);for(let W=0;W<C.length;W+=1)C[W].l(Y);Y.forEach(detach),p=claim_svg_element(P,"g",{class:!0});var G=children(p);for(let W=0;W<T.length;W+=1)T[W].l(G);G.forEach(detach),P.forEach(detach),U.forEach(detach),_=claim_space(S),g=claim_element(S,"DIV",{class:!0});var V=children(g);w=claim_text(V,b),V.forEach(detach),$=claim_space(S),S.forEach(detach),this.h()},h(){attr(u,"class","chart-line svelte-1qtg1r"),attr(u,"d",h=i[4][i[16]](i[0])),attr(u,"stroke",i[6][i[16]]),attr(f,"class","x-axis svelte-1qtg1r"),attr(f,"transform","translate(0, "+i[9]+")"),attr(p,"class","y-axis svelte-1qtg1r"),attr(l,"transform","translate("+i[7].left+", "+i[7].top+")"),attr(s,"width",width),attr(s,"height",height$2),attr(g,"class","chart-title svelte-1qtg1r"),attr(o,"class","chart-wrapper svelte-1qtg1r")},m(I,S){insert_hydration(I,o,S),append_hydration(o,s),append_hydration(s,l),append_hydration(l,u),append_hydration(l,f);for(let U=0;U<C.length;U+=1)C[U]&&C[U].m(f,null);append_hydration(l,p);for(let U=0;U<T.length;U+=1)T[U]&&T[U].m(p,null);append_hydration(o,_),append_hydration(o,g),append_hydration(g,w),append_hydration(o,$),A()},p(I,S){if(i=I,S&17&&h!==(h=i[4][i[16]](i[0]))&&attr(u,"d",h),S&1028){M=ensure_array_like(i[2].ticks(3));let U;for(U=0;U<M.length;U+=1){const P=get_each_context_2(i,M,U);C[U]?C[U].p(P,S):(C[U]=create_each_block_2(P),C[U].c(),C[U].m(f,null))}for(;U<C.length;U+=1)C[U].d(1);C.length=M.length}if(S&264){k=ensure_array_like(i[3].ticks(3));let U;for(U=0;U<k.length;U+=1){const P=get_each_context_1$2(i,k,U);T[U]?T[U].p(P,S):(T[U]=create_each_block_1$2(P),T[U].c(),T[U].m(p,null))}for(;U<T.length;U+=1)T[U].d(1);T.length=k.length}E!==i[16]&&(D(),E=i[16],A())},d(I){I&&detach(o),destroy_each(C,I),destroy_each(T,I),D()}}}function create_fragment$a(i){let o,s=i[0].length>0&&create_if_block$3(i);return{c(){o=element("div"),s&&s.c(),this.h()},l(l){o=claim_element(l,"DIV",{class:!0,id:!0});var u=children(o);s&&s.l(u),u.forEach(detach),this.h()},h(){attr(o,"class","chart-container svelte-1qtg1r"),attr(o,"id","emotions-small-multiples")},m(l,u){insert_hydration(l,o,u),s&&s.m(o,null)},p(l,[u]){l[0].length>0?s?s.p(l,u):(s=create_if_block$3(l),s.c(),s.m(o,null)):s&&(s.d(1),s=null)},i:noop,o:noop,d(l){l&&detach(o),s&&s.d()}}}let width=200,height$2=150;function instance$8($$self,$$props,$$invalidate){let data=[];const emotions=["anger","anticipation","disgust","fear","joy","sadness","surprise","trust"],colors=["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#f781bf","#a65628","#ffff33"];let chartRefs=new Array(emotions.length);const margin={top:20,right:20,bottom:30,left:40},chartWidth=width-margin.left-margin.right,chartHeight=height$2-margin.top-margin.bottom,formatDate=timeFormat("%Y");let xScale,yScale,lineGenerators;const normalizeEmotions=i=>{const o=Object.values(i).reduce((s,l)=>s+l,0);return Object.entries(i).reduce((s,[l,u])=>(s[l]=u/o,s),{})},processData=data=>{const filteredData=data.filter(i=>{const o=+i.chart_week.slice(0,4);return o>=1960&&o<=2020}),groupedData=rollups(filteredData,v=>{const emotionSums=v.reduce((acc,d)=>{try{const parsedEmotions=eval("("+d.Emotions+")");if(Object.keys(parsedEmotions).length>0){const i=normalizeEmotions(parsedEmotions);emotions.forEach(o=>{acc[o]+=i[o]||0})}}catch(i){console.warn("Error parsing emotions:",d.Emotions)}return acc},Object.fromEntries(emotions.map(i=>[i,0]))),totalSongs=v.length,averageEmotions=Object.entries(emotionSums).reduce((i,[o,s])=>(i[o]=s/totalSongs,i),{});return averageEmotions},i=>i.chart_week.slice(0,4));return Array.from(groupedData,([i,o])=>({year:new Date(i),...o}))};onMount(async()=>{$$invalidate(0,data=processData(await csv$1("assets/billboard.csv"))),$$invalidate(2,xScale=time().domain(extent(data,i=>i.year)).range([0,chartWidth])),$$invalidate(3,yScale=linear().domain([0,.5]).range([chartHeight,0])),$$invalidate(4,lineGenerators=emotions.map(i=>line().x(o=>xScale(o.year)).y(o=>yScale(o[i])).defined(o=>o.year>=new Date("1960")&&o.year<=new Date("2020"))))});function div1_binding(i,o){binding_callbacks[i?"unshift":"push"](()=>{chartRefs[o]=i,$$invalidate(1,chartRefs)})}return[data,chartRefs,xScale,yScale,lineGenerators,emotions,colors,margin,chartWidth,chartHeight,formatDate,div1_binding]}class EmotionChart extends SvelteComponent{constructor(o){super(),init(this,o,instance$8,create_fragment$a,safe_not_equal,{})}}function select(i){return typeof i=="string"?new Selection([[document.querySelector(i)]],[document.documentElement]):new Selection([[i]],root)}var EOL={},EOF={},QUOTE=34,NEWLINE=10,RETURN=13;function objectConverter(i){return new Function("d","return {"+i.map(function(o,s){return JSON.stringify(o)+": d["+s+'] || ""'}).join(",")+"}")}function customConverter(i,o){var s=objectConverter(i);return function(l,u){return o(s(l),u,i)}}function inferColumns(i){var o=Object.create(null),s=[];return i.forEach(function(l){for(var u in l)u in o||s.push(o[u]=u)}),s}function pad(i,o){var s=i+"",l=s.length;return l<o?new Array(o-l+1).join(0)+s:s}function formatYear(i){return i<0?"-"+pad(-i,6):i>9999?"+"+pad(i,6):pad(i,4)}function formatDate(i){var o=i.getUTCHours(),s=i.getUTCMinutes(),l=i.getUTCSeconds(),u=i.getUTCMilliseconds();return isNaN(i)?"Invalid Date":formatYear(i.getUTCFullYear())+"-"+pad(i.getUTCMonth()+1,2)+"-"+pad(i.getUTCDate(),2)+(u?"T"+pad(o,2)+":"+pad(s,2)+":"+pad(l,2)+"."+pad(u,3)+"Z":l?"T"+pad(o,2)+":"+pad(s,2)+":"+pad(l,2)+"Z":s||o?"T"+pad(o,2)+":"+pad(s,2)+"Z":"")}function dsv(i){var o=new RegExp('["'+i+`
\r]`),s=i.charCodeAt(0);function l(w,$){var E,M,C=u(w,function(k,T){if(E)return E(k,T-1);M=k,E=$?customConverter(k,$):objectConverter(k)});return C.columns=M||[],C}function u(w,$){var E=[],M=w.length,C=0,k=0,T,A=M<=0,D=!1;w.charCodeAt(M-1)===NEWLINE&&--M,w.charCodeAt(M-1)===RETURN&&--M;function I(){if(A)return EOF;if(D)return D=!1,EOL;var U,P=C,Y;if(w.charCodeAt(P)===QUOTE){for(;C++<M&&w.charCodeAt(C)!==QUOTE||w.charCodeAt(++C)===QUOTE;);return(U=C)>=M?A=!0:(Y=w.charCodeAt(C++))===NEWLINE?D=!0:Y===RETURN&&(D=!0,w.charCodeAt(C)===NEWLINE&&++C),w.slice(P+1,U-1).replace(/""/g,'"')}for(;C<M;){if((Y=w.charCodeAt(U=C++))===NEWLINE)D=!0;else if(Y===RETURN)D=!0,w.charCodeAt(C)===NEWLINE&&++C;else if(Y!==s)continue;return w.slice(P,U)}return A=!0,w.slice(P,M)}for(;(T=I())!==EOF;){for(var S=[];T!==EOL&&T!==EOF;)S.push(T),T=I();$&&(S=$(S,k++))==null||E.push(S)}return E}function h(w,$){return w.map(function(E){return $.map(function(M){return b(E[M])}).join(i)})}function f(w,$){return $==null&&($=inferColumns(w)),[$.map(b).join(i)].concat(h(w,$)).join(`
`)}function p(w,$){return $==null&&($=inferColumns(w)),h(w,$).join(`
`)}function _(w){return w.map(g).join(`
`)}function g(w){return w.map(b).join(i)}function b(w){return w==null?"":w instanceof Date?formatDate(w):o.test(w+="")?'"'+w.replace(/"/g,'""')+'"':w}return{parse:l,parseRows:u,format:f,formatBody:p,formatRows:_,formatRow:g,formatValue:b}}var csv=dsv(","),csvParse=csv.parse;function tree_add(i){const o=+this._x.call(null,i),s=+this._y.call(null,i);return add(this.cover(o,s),o,s,i)}function add(i,o,s,l){if(isNaN(o)||isNaN(s))return i;var u,h=i._root,f={data:l},p=i._x0,_=i._y0,g=i._x1,b=i._y1,w,$,E,M,C,k,T,A;if(!h)return i._root=f,i;for(;h.length;)if((C=o>=(w=(p+g)/2))?p=w:g=w,(k=s>=($=(_+b)/2))?_=$:b=$,u=h,!(h=h[T=k<<1|C]))return u[T]=f,i;if(E=+i._x.call(null,h.data),M=+i._y.call(null,h.data),o===E&&s===M)return f.next=h,u?u[T]=f:i._root=f,i;do u=u?u[T]=new Array(4):i._root=new Array(4),(C=o>=(w=(p+g)/2))?p=w:g=w,(k=s>=($=(_+b)/2))?_=$:b=$;while((T=k<<1|C)===(A=(M>=$)<<1|E>=w));return u[A]=h,u[T]=f,i}function addAll(i){var o,s,l=i.length,u,h,f=new Array(l),p=new Array(l),_=1/0,g=1/0,b=-1/0,w=-1/0;for(s=0;s<l;++s)isNaN(u=+this._x.call(null,o=i[s]))||isNaN(h=+this._y.call(null,o))||(f[s]=u,p[s]=h,u<_&&(_=u),u>b&&(b=u),h<g&&(g=h),h>w&&(w=h));if(_>b||g>w)return this;for(this.cover(_,g).cover(b,w),s=0;s<l;++s)add(this,f[s],p[s],i[s]);return this}function tree_cover(i,o){if(isNaN(i=+i)||isNaN(o=+o))return this;var s=this._x0,l=this._y0,u=this._x1,h=this._y1;if(isNaN(s))u=(s=Math.floor(i))+1,h=(l=Math.floor(o))+1;else{for(var f=u-s||1,p=this._root,_,g;s>i||i>=u||l>o||o>=h;)switch(g=(o<l)<<1|i<s,_=new Array(4),_[g]=p,p=_,f*=2,g){case 0:u=s+f,h=l+f;break;case 1:s=u-f,h=l+f;break;case 2:u=s+f,l=h-f;break;case 3:s=u-f,l=h-f;break}this._root&&this._root.length&&(this._root=p)}return this._x0=s,this._y0=l,this._x1=u,this._y1=h,this}function tree_data(){var i=[];return this.visit(function(o){if(!o.length)do i.push(o.data);while(o=o.next)}),i}function tree_extent(i){return arguments.length?this.cover(+i[0][0],+i[0][1]).cover(+i[1][0],+i[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Quad(i,o,s,l,u){this.node=i,this.x0=o,this.y0=s,this.x1=l,this.y1=u}function tree_find(i,o,s){var l,u=this._x0,h=this._y0,f,p,_,g,b=this._x1,w=this._y1,$=[],E=this._root,M,C;for(E&&$.push(new Quad(E,u,h,b,w)),s==null?s=1/0:(u=i-s,h=o-s,b=i+s,w=o+s,s*=s);M=$.pop();)if(!(!(E=M.node)||(f=M.x0)>b||(p=M.y0)>w||(_=M.x1)<u||(g=M.y1)<h))if(E.length){var k=(f+_)/2,T=(p+g)/2;$.push(new Quad(E[3],k,T,_,g),new Quad(E[2],f,T,k,g),new Quad(E[1],k,p,_,T),new Quad(E[0],f,p,k,T)),(C=(o>=T)<<1|i>=k)&&(M=$[$.length-1],$[$.length-1]=$[$.length-1-C],$[$.length-1-C]=M)}else{var A=i-+this._x.call(null,E.data),D=o-+this._y.call(null,E.data),I=A*A+D*D;if(I<s){var S=Math.sqrt(s=I);u=i-S,h=o-S,b=i+S,w=o+S,l=E.data}}return l}function tree_remove(i){if(isNaN(b=+this._x.call(null,i))||isNaN(w=+this._y.call(null,i)))return this;var o,s=this._root,l,u,h,f=this._x0,p=this._y0,_=this._x1,g=this._y1,b,w,$,E,M,C,k,T;if(!s)return this;if(s.length)for(;;){if((M=b>=($=(f+_)/2))?f=$:_=$,(C=w>=(E=(p+g)/2))?p=E:g=E,o=s,!(s=s[k=C<<1|M]))return this;if(!s.length)break;(o[k+1&3]||o[k+2&3]||o[k+3&3])&&(l=o,T=k)}for(;s.data!==i;)if(u=s,!(s=s.next))return this;return(h=s.next)&&delete s.next,u?(h?u.next=h:delete u.next,this):o?(h?o[k]=h:delete o[k],(s=o[0]||o[1]||o[2]||o[3])&&s===(o[3]||o[2]||o[1]||o[0])&&!s.length&&(l?l[T]=s:this._root=s),this):(this._root=h,this)}function removeAll(i){for(var o=0,s=i.length;o<s;++o)this.remove(i[o]);return this}function tree_root(){return this._root}function tree_size(){var i=0;return this.visit(function(o){if(!o.length)do++i;while(o=o.next)}),i}function tree_visit(i){var o=[],s,l=this._root,u,h,f,p,_;for(l&&o.push(new Quad(l,this._x0,this._y0,this._x1,this._y1));s=o.pop();)if(!i(l=s.node,h=s.x0,f=s.y0,p=s.x1,_=s.y1)&&l.length){var g=(h+p)/2,b=(f+_)/2;(u=l[3])&&o.push(new Quad(u,g,b,p,_)),(u=l[2])&&o.push(new Quad(u,h,b,g,_)),(u=l[1])&&o.push(new Quad(u,g,f,p,b)),(u=l[0])&&o.push(new Quad(u,h,f,g,b))}return this}function tree_visitAfter(i){var o=[],s=[],l;for(this._root&&o.push(new Quad(this._root,this._x0,this._y0,this._x1,this._y1));l=o.pop();){var u=l.node;if(u.length){var h,f=l.x0,p=l.y0,_=l.x1,g=l.y1,b=(f+_)/2,w=(p+g)/2;(h=u[0])&&o.push(new Quad(h,f,p,b,w)),(h=u[1])&&o.push(new Quad(h,b,p,_,w)),(h=u[2])&&o.push(new Quad(h,f,w,b,g)),(h=u[3])&&o.push(new Quad(h,b,w,_,g))}s.push(l)}for(;l=s.pop();)i(l.node,l.x0,l.y0,l.x1,l.y1);return this}function defaultX(i){return i[0]}function tree_x(i){return arguments.length?(this._x=i,this):this._x}function defaultY(i){return i[1]}function tree_y(i){return arguments.length?(this._y=i,this):this._y}function quadtree(i,o,s){var l=new Quadtree(o??defaultX,s??defaultY,NaN,NaN,NaN,NaN);return i==null?l:l.addAll(i)}function Quadtree(i,o,s,l,u,h){this._x=i,this._y=o,this._x0=s,this._y0=l,this._x1=u,this._y1=h,this._root=void 0}function leaf_copy(i){for(var o={data:i.data},s=o;i=i.next;)s=s.next={data:i.data};return o}var treeProto=quadtree.prototype=Quadtree.prototype;treeProto.copy=function(){var i=new Quadtree(this._x,this._y,this._x0,this._y0,this._x1,this._y1),o=this._root,s,l;if(!o)return i;if(!o.length)return i._root=leaf_copy(o),i;for(s=[{source:o,target:i._root=new Array(4)}];o=s.pop();)for(var u=0;u<4;++u)(l=o.source[u])&&(l.length?s.push({source:l,target:o.target[u]=new Array(4)}):o.target[u]=leaf_copy(l));return i};treeProto.add=tree_add;treeProto.addAll=addAll;treeProto.cover=tree_cover;treeProto.data=tree_data;treeProto.extent=tree_extent;treeProto.find=tree_find;treeProto.remove=tree_remove;treeProto.removeAll=removeAll;treeProto.root=tree_root;treeProto.size=tree_size;treeProto.visit=tree_visit;treeProto.visitAfter=tree_visitAfter;treeProto.x=tree_x;treeProto.y=tree_y;function constant(i){return function(){return i}}function jiggle(i){return(i()-.5)*1e-6}function x$1(i){return i.x+i.vx}function y$1(i){return i.y+i.vy}function collide(i){var o,s,l,u=1,h=1;typeof i!="function"&&(i=constant(i==null?1:+i));function f(){for(var g,b=o.length,w,$,E,M,C,k,T=0;T<h;++T)for(w=quadtree(o,x$1,y$1).visitAfter(p),g=0;g<b;++g)$=o[g],C=s[$.index],k=C*C,E=$.x+$.vx,M=$.y+$.vy,w.visit(A);function A(D,I,S,U,P){var Y=D.data,G=D.r,V=C+G;if(Y){if(Y.index>$.index){var W=E-Y.x-Y.vx,F=M-Y.y-Y.vy,H=W*W+F*F;H<V*V&&(W===0&&(W=jiggle(l),H+=W*W),F===0&&(F=jiggle(l),H+=F*F),H=(V-(H=Math.sqrt(H)))/H*u,$.vx+=(W*=H)*(V=(G*=G)/(k+G)),$.vy+=(F*=H)*V,Y.vx-=W*(V=1-V),Y.vy-=F*V)}return}return I>E+V||U<E-V||S>M+V||P<M-V}}function p(g){if(g.data)return g.r=s[g.data.index];for(var b=g.r=0;b<4;++b)g[b]&&g[b].r>g.r&&(g.r=g[b].r)}function _(){if(o){var g,b=o.length,w;for(s=new Array(b),g=0;g<b;++g)w=o[g],s[w.index]=+i(w,g,o)}}return f.initialize=function(g,b){o=g,l=b,_()},f.iterations=function(g){return arguments.length?(h=+g,f):h},f.strength=function(g){return arguments.length?(u=+g,f):u},f.radius=function(g){return arguments.length?(i=typeof g=="function"?g:constant(+g),_(),f):i},f}const a=1664525,c=1013904223,m=4294967296;function lcg(){let i=1;return()=>(i=(a*i+c)%m)/m}var initialRadius=10,initialAngle=Math.PI*(3-Math.sqrt(5));function simulation(i){var o,s=1,l=.001,u=1-Math.pow(l,1/300),h=0,f=.6,p=new Map,_=timer(w),g=dispatch("tick","end"),b=lcg();i==null&&(i=[]);function w(){$(),g.call("tick",o),s<l&&(_.stop(),g.call("end",o))}function $(C){var k,T=i.length,A;C===void 0&&(C=1);for(var D=0;D<C;++D)for(s+=(h-s)*u,p.forEach(function(I){I(s)}),k=0;k<T;++k)A=i[k],A.fx==null?A.x+=A.vx*=f:(A.x=A.fx,A.vx=0),A.fy==null?A.y+=A.vy*=f:(A.y=A.fy,A.vy=0);return o}function E(){for(var C=0,k=i.length,T;C<k;++C){if(T=i[C],T.index=C,T.fx!=null&&(T.x=T.fx),T.fy!=null&&(T.y=T.fy),isNaN(T.x)||isNaN(T.y)){var A=initialRadius*Math.sqrt(.5+C),D=C*initialAngle;T.x=A*Math.cos(D),T.y=A*Math.sin(D)}(isNaN(T.vx)||isNaN(T.vy))&&(T.vx=T.vy=0)}}function M(C){return C.initialize&&C.initialize(i,b),C}return E(),o={tick:$,restart:function(){return _.restart(w),o},stop:function(){return _.stop(),o},nodes:function(C){return arguments.length?(i=C,E(),p.forEach(M),o):i},alpha:function(C){return arguments.length?(s=+C,o):s},alphaMin:function(C){return arguments.length?(l=+C,o):l},alphaDecay:function(C){return arguments.length?(u=+C,o):+u},alphaTarget:function(C){return arguments.length?(h=+C,o):h},velocityDecay:function(C){return arguments.length?(f=1-C,o):1-f},randomSource:function(C){return arguments.length?(b=C,p.forEach(M),o):b},force:function(C,k){return arguments.length>1?(k==null?p.delete(C):p.set(C,M(k)),o):p.get(C)},find:function(C,k,T){var A=0,D=i.length,I,S,U,P,Y;for(T==null?T=1/0:T*=T,A=0;A<D;++A)P=i[A],I=C-P.x,S=k-P.y,U=I*I+S*S,U<T&&(Y=P,T=U);return Y},on:function(C,k){return arguments.length>1?(g.on(C,k),o):g.on(C)}}}function x(i){var o=constant(.1),s,l,u;typeof i!="function"&&(i=constant(i==null?0:+i));function h(p){for(var _=0,g=s.length,b;_<g;++_)b=s[_],b.vx+=(u[_]-b.x)*l[_]*p}function f(){if(s){var p,_=s.length;for(l=new Array(_),u=new Array(_),p=0;p<_;++p)l[p]=isNaN(u[p]=+i(s[p],p,s))?0:+o(s[p],p,s)}}return h.initialize=function(p){s=p,f()},h.strength=function(p){return arguments.length?(o=typeof p=="function"?p:constant(+p),f(),h):o},h.x=function(p){return arguments.length?(i=typeof p=="function"?p:constant(+p),f(),h):i},h}function y(i){var o=constant(.1),s,l,u;typeof i!="function"&&(i=constant(i==null?0:+i));function h(p){for(var _=0,g=s.length,b;_<g;++_)b=s[_],b.vy+=(u[_]-b.y)*l[_]*p}function f(){if(s){var p,_=s.length;for(l=new Array(_),u=new Array(_),p=0;p<_;++p)l[p]=isNaN(u[p]=+i(s[p],p,s))?0:+o(s[p],p,s)}}return h.initialize=function(p){s=p,f()},h.strength=function(p){return arguments.length?(o=typeof p=="function"?p:constant(+p),f(),h):o},h.y=function(p){return arguments.length?(i=typeof p=="function"?p:constant(+p),f(),h):i},h}function create_if_block$2(i){let o,s;return{c(){o=element("div"),s=text$1(i[4]),this.h()},l(l){o=claim_element(l,"DIV",{class:!0,style:!0});var u=children(o);s=claim_text(u,i[4]),u.forEach(detach),this.h()},h(){attr(o,"class","tooltip"),set_style(o,"left",i[2]+"px"),set_style(o,"top",i[3]+"px"),set_style(o,"background-color","white"),set_style(o,"color","black"),set_style(o,"padding","5px"),set_style(o,"border-radius","4px"),set_style(o,"box-shadow","0 2px 4px rgba(0, 0, 0, 0.2)"),set_style(o,"z-index","9999")},m(l,u){insert_hydration(l,o,u),append_hydration(o,s)},p(l,u){u&16&&set_data(s,l[4]),u&4&&set_style(o,"left",l[2]+"px"),u&8&&set_style(o,"top",l[3]+"px")},d(l){l&&detach(o)}}}function create_fragment$9(i){let o,s,l,u,h,f=i[1]&&create_if_block$2(i);return{c(){o=element("div"),s=svg_element("svg"),l=svg_element("title"),u=text$1("Artist Sentiment Scores"),h=space(),f&&f.c(),this.h()},l(p){o=claim_element(p,"DIV",{class:!0});var _=children(o);s=claim_svg_element(_,"svg",{id:!0,width:!0,height:!0});var g=children(s);l=claim_svg_element(g,"title",{});var b=children(l);u=claim_text(b,"Artist Sentiment Scores"),b.forEach(detach),g.forEach(detach),h=claim_space(_),f&&f.l(_),_.forEach(detach),this.h()},h(){attr(s,"id","chart"),attr(s,"width",i[0]),attr(s,"height",height$1),attr(o,"class","chart-container svelte-1d45vpu")},m(p,_){insert_hydration(p,o,_),append_hydration(o,s),append_hydration(s,l),append_hydration(l,u),append_hydration(o,h),f&&f.m(o,null),i[6](o)},p(p,[_]){_&1&&attr(s,"width",p[0]),p[1]?f?f.p(p,_):(f=create_if_block$2(p),f.c(),f.m(o,null)):f&&(f.d(1),f=null)},i:noop,o:noop,d(p){p&&detach(o),f&&f.d(),i[6](null)}}}let height$1=600,minSongs=3;function instance$7(i,o,s){let l=[],u=0,h={top:20,right:20,bottom:50,left:100},f=0,p=height$1-h.top-h.bottom,_=!1,g=0,b=0,w="",$;onMount(async()=>{const T=await(await fetch("assets/billboard.csv")).text();return l=await csvParse(T,A=>({performer:A.performer.split(", "),sentiment:A.Sentiment==="Positive"?1:-1,title:A.title})),l=flatRollup(l,A=>({sentiment:sum(A,D=>D.sentiment)/A.length,count:A.length}),A=>A.performer.join(", ")),l=l.map(([A,{sentiment:D,count:I}])=>({performer:A,sentiment:D,count:I})).filter(A=>A.count>=minSongs).sort((A,D)=>descending(A.sentiment,D.sentiment)),typeof window<"u"&&(M(),window.addEventListener("resize",E)),E(),()=>{typeof window<"u"&&window.removeEventListener("resize",E)}});function E(){$&&(s(0,u=$.clientWidth),f=u-h.left-h.right,M())}function M(){const k=select("#chart");k.selectAll("*").remove(),k.attr("width",u).attr("height",height$1);const T=linear().domain(extent(l,I=>I.sentiment)).range([p,0]),A=sqrt().domain([0,max(l,I=>I.count)]).range([0,10]),D=simulation(l).force("x",x(f/2)).force("y",y(I=>T(I.sentiment))).force("collision",collide().radius(I=>A(I.count)+2)).stop();for(let I=0;I<300;++I)D.tick();k.append("g").attr("transform",`translate(${h.left},${h.top})`).selectAll("circle").data(l).enter().append("circle").attr("cx",I=>I.x).attr("cy",I=>I.y).attr("r",I=>A(I.count)).attr("fill",I=>I.sentiment>0?"var(--chart-color-2)":"var(--chart-color-1)").attr("tabindex","0").attr("role","graphics-symbol").attr("aria-roledescription","circle").attr("aria-label",I=>`${I.performer}: Sentiment ${I.sentiment.toFixed(2)}, Songs ${I.count}`).on("mouseover focus",function(I,S){select(this).attr("opacity",.8),s(1,_=!0),s(2,g=I.pageX),s(3,b=I.pageY),s(4,w=S.performer)}).on("mouseout blur",function(){select(this).attr("opacity",1),s(1,_=!1)}).on("click",function(I,S){_&&w===S.performer?s(1,_=!1):(s(1,_=!0),s(2,g=I.pageX),s(3,b=I.pageY),s(4,w=S.performer))}),k.append("text").attr("class","x-label").attr("text-anchor","middle").attr("x",u/2).attr("y",height$1-10).text("Performer"),k.append("text").attr("class","y-label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("x",-height$1/2).attr("y",20).text("Sentiment Score")}function C(k){binding_callbacks[k?"unshift":"push"](()=>{$=k,s(5,$)})}return[u,_,g,b,w,$,C]}class ArtistScatterplot extends SvelteComponent{constructor(o){super(),init(this,o,instance$7,create_fragment$9,safe_not_equal,{})}}function create_fragment$8(i){let o,s='<svg class="radar-chart"><title>Artist Emotion Comparison</title></svg>';return{c(){o=element("div"),o.innerHTML=s,this.h()},l(l){o=claim_element(l,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-jxewvh"&&(o.innerHTML=s),this.h()},h(){attr(o,"class","chart-container svelte-1tfds4d")},m(l,u){insert_hydration(l,o,u),i[1](o)},p:noop,i:noop,o:noop,d(l){l&&detach(o),i[1](null)}}}let height=400;function instance$6(i,o,s){let l=[],u=0,h={top:50,right:50,bottom:50,left:50},f=["anger","anticipation","disgust","joy","surprise","trust","fear","sadness"],p=0,_=height-h.top-h.bottom,g=0,b;const w=["Billie Eilish","Ariana Grande"];onMount(async()=>{const k=await(await fetch("assets/billboard.csv")).text();return l=await csvParse(k,T=>({performer:T.performer.split(", "),emotions:JSON.parse(T.Emotions.replace(/'/g,'"')),title:T.title})),l=flatRollup(l,T=>{const A=T.map(I=>{const S=sum(Object.values(I.emotions));return Object.fromEntries(Object.entries(I.emotions).map(([U,P])=>[U,P/S]))});return f.reduce((I,S)=>(I[S]=mean(A,U=>U[S]||0),I),{})},T=>T.performer.join(", ")),l=Array.from(l,([T,A])=>({performer:T,emotions:A})).filter(T=>w.includes(T.performer)),typeof window<"u"&&($(),window.addEventListener("resize",$)),()=>{typeof window<"u"&&window.removeEventListener("resize",$)}});function $(){b&&(u=b.clientWidth,p=(u-h.left-h.right)/2,g=Math.min(p,_)/2,E())}function E(){const C=select(b).select("svg");C.selectAll("*").remove(),C.attr("width",u).attr("height",height);const k=point().domain(f).range([0,2*Math.PI]),T=linear().domain([0,1]).range([0,g]),A=lineRadial$1().angle(D=>k(D[0])).radius(D=>T(D[1]));l.forEach((D,I)=>{const S=C.append("g").attr("class","chart-group").attr("transform",`translate(${h.left+p/2+I*(p+h.right)},${height/2})`),U=S.append("g").attr("class","axis");U.selectAll("line").data(f).enter().append("line").attr("x1",0).attr("y1",0).attr("x2",P=>T(1)*Math.cos(k(P))).attr("y2",P=>T(1)*Math.sin(k(P))).attr("stroke","currentColor").attr("stroke-width",1),U.selectAll("text").data(f).enter().append("text").attr("x",P=>T(1.1)*Math.cos(k(P))).attr("y",P=>T(1.1)*Math.sin(k(P))).attr("dy","0.35em").attr("text-anchor","middle").text(P=>P),S.append("path").attr("class","radar-line").attr("d",A(Object.entries(D.emotions))).attr("fill",`rgba(${I*255}, ${255-I*255}, 255, 0.2)`).attr("stroke",`rgb(${I*255}, ${255-I*255}, 255)`).attr("stroke-width",2),S.append("text").attr("class","artist-label").attr("x",0).attr("y",-g-20).attr("text-anchor","middle").text(D.performer)})}function M(C){binding_callbacks[C?"unshift":"push"](()=>{b=C,s(0,b)})}return[b,M]}class ArtistRadarChart extends SvelteComponent{constructor(o){super(),init(this,o,instance$6,create_fragment$8,safe_not_equal,{})}}function create_fragment$7(i){let o,s=`So what does this all mean? Why is popular music getting sadder? There are no
	easy answers, but a few potential factors come to mind.`,l,u,h=`On a socio-cultural level, the rise of social media has made it more
	acceptable and even encouraged to publicly express negative emotions. Global
	events like the pandemic, political upheavals, and the climate crisis have
	also undoubtedly affected our collective mood.`,f,p,_=`There may also be a certain catharsis or relatability in hearing our own
	struggles echoed in the music we listen to. In an age of curated perfection on
	Instagram, there's a raw authenticity to an artist baring their emotional
	vulnerabilities.`,g,b,w=`It's worth noting that music has always been a reflection of its time. The
	protest songs of the 60s, the nihilistic punk of the 70s, the angsty grunge of
	the 90s - each era has its own emotional tone. Perhaps we are in the age of
	sad bangers, where melancholy and catchiness are not mutually exclusive.`,$,E,M=`Will this trend towards negativity continue? It's hard to say. Music is
	cyclical, and perhaps a brighter, more optimistic phase is around the corner.
	Or maybe we are entering a new normal, where sadness is the default mode of
	popular song.`,C,k,T='<img src="assets/emotional-journey-image.jpg" alt="A winding path represents the emotional journey of popular music from the 1960s to the present. The path is divided into sections, each marked with distinctive styles and colors to indicate the predominant emotions of that era. The colors transition from bright and cheerful hues in the earlier decades to darker and more somber tones in recent years. Iconic symbols and silhouettes along the path represent significant milestones, genres, and artists. Small charts and graphs illustrate the changing proportions of emotions over time. The background complements the emotional journey with abstract shapes, textures, and patterns that evoke the mood of each era. A legend explains the significance of the colors, symbols, and charts used." class="svelte-1lv1wdy"/> <p class="image-caption svelte-1lv1wdy">The Emotional Evolution of Popular Music</p>',A,D,I=`Regardless, one thing is clear: music has the profound power to reflect and
	shape our emotions. The songs we listen to are not just background noise; they
	are a mirror of our times, a shared emotional language. As we navigate an
	increasingly complex and challenging world, maybe a little musical melancholy
	is just what we need to feel less alone. After all, in the words of another
	recent hit, "Everybody hurts sometimes."`;return{c(){o=element("p"),o.textContent=s,l=space(),u=element("p"),u.textContent=h,f=space(),p=element("p"),p.textContent=_,g=space(),b=element("p"),b.textContent=w,$=space(),E=element("p"),E.textContent=M,C=space(),k=element("div"),k.innerHTML=T,A=space(),D=element("p"),D.textContent=I,this.h()},l(S){o=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-uex27x"&&(o.textContent=s),l=claim_space(S),u=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(u)!=="svelte-glup5x"&&(u.textContent=h),f=claim_space(S),p=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(p)!=="svelte-119zk8h"&&(p.textContent=_),g=claim_space(S),b=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(b)!=="svelte-t10t68"&&(b.textContent=w),$=claim_space(S),E=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-14phkdh"&&(E.textContent=M),C=claim_space(S),k=claim_element(S,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(k)!=="svelte-fg10lq"&&(k.innerHTML=T),A=claim_space(S),D=claim_element(S,"P",{"data-svelte-h":!0}),get_svelte_dataset(D)!=="svelte-1q4o23v"&&(D.textContent=I),this.h()},h(){attr(k,"class","emotional-journey-image svelte-1lv1wdy")},m(S,U){insert_hydration(S,o,U),insert_hydration(S,l,U),insert_hydration(S,u,U),insert_hydration(S,f,U),insert_hydration(S,p,U),insert_hydration(S,g,U),insert_hydration(S,b,U),insert_hydration(S,$,U),insert_hydration(S,E,U),insert_hydration(S,C,U),insert_hydration(S,k,U),insert_hydration(S,A,U),insert_hydration(S,D,U)},p:noop,i:noop,o:noop,d(S){S&&(detach(o),detach(l),detach(u),detach(f),detach(p),detach(g),detach(b),detach($),detach(E),detach(C),detach(k),detach(A),detach(D))}}}class Conclusion extends SvelteComponent{constructor(o){super(),init(this,o,null,create_fragment$7,safe_not_equal,{})}}function create_fragment$6(i){let o,s=`Our analysis is based on the Billboard Hot 100 year-end top 10 songs from 1960
	to 2020. The lyrics for each song were sourced from the Genius API.`,l,u,h=`To determine the emotional content of each song, we used the NRC Sentiment and
	Emotion Lexicons. These lexicons contain a list of English words and their
	associations with eight basic emotions (anger, fear, anticipation, trust,
	surprise, sadness, joy, and disgust) and two sentiments (negative and
	positive).`,f,p,_=`Each song's lyrics were analyzed and assigned a score for each of the eight
	emotions based on the frequency and intensity of emotion-related words. The
	primary sentiment (positive or negative) was determined by which sentiment had
	the higher score.`,g,b,w=`It's important to note that this is an automated analysis based on word
	associations, and may not always capture the full nuance and context of a
	song's emotional content. Sarcasm, for example, or complex storytelling may be
	misinterpreted. However, across a large dataset, it provides a robust overall
	picture of the patterns and trends in the emotional landscape of popular
	music.`,$,E,M=`You can explore the full datasets and code used in this analysis on our
	<a href="https://github.com/your-repo-here" target="_blank">Github repo</a>.`;return{c(){o=element("p"),o.textContent=s,l=space(),u=element("p"),u.textContent=h,f=space(),p=element("p"),p.textContent=_,g=space(),b=element("p"),b.textContent=w,$=space(),E=element("p"),E.innerHTML=M},l(C){o=claim_element(C,"P",{"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-1tjors8"&&(o.textContent=s),l=claim_space(C),u=claim_element(C,"P",{"data-svelte-h":!0}),get_svelte_dataset(u)!=="svelte-ysp56e"&&(u.textContent=h),f=claim_space(C),p=claim_element(C,"P",{"data-svelte-h":!0}),get_svelte_dataset(p)!=="svelte-fa7cuk"&&(p.textContent=_),g=claim_space(C),b=claim_element(C,"P",{"data-svelte-h":!0}),get_svelte_dataset(b)!=="svelte-183pkqc"&&(b.textContent=w),$=claim_space(C),E=claim_element(C,"P",{"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-re1v80"&&(E.innerHTML=M)},m(C,k){insert_hydration(C,o,k),insert_hydration(C,l,k),insert_hydration(C,u,k),insert_hydration(C,f,k),insert_hydration(C,p,k),insert_hydration(C,g,k),insert_hydration(C,b,k),insert_hydration(C,$,k),insert_hydration(C,E,k)},p:noop,i:noop,o:noop,d(C){C&&(detach(o),detach(l),detach(u),detach(f),detach(p),detach(g),detach(b),detach($),detach(E))}}}class Methodology extends SvelteComponent{constructor(o){super(),init(this,o,null,create_fragment$6,safe_not_equal,{})}}class Footer extends SvelteComponent{constructor(o){super(),init(this,o,null,null,safe_not_equal,{})}}let side=writable("left"),currentVideoId=writable(void 0),currentVideoY=writable(void 0);function create_fragment$5(i){let o,s,l,u,h,f,p,_,g="The Rise of Negativity",b,w,$,E,M=`Our analysis reveals a clear upward trend in the percentage of songs
				with a predominantly negative emotional sentiment, particularly since
				the mid-2010s. In 2020, for the first time in the history of our
				dataset, negative songs outnumbered positive ones in the year-end top
				10.`,C,k,T=`This rise in negativity is not attributable to any single emotion, but
				rather a confluence of increases in sadness, fear, disgust, and anger.
				Joy, while still the most common individual emotion, has been on a
				relative decline.`,A,D,I,S,U=`Interestingly, this shift coincides with the rise of Hip hop/Rap as the
				dominant genre in popular music, overtaking the more traditionally
				upbeat Pop. Hip hop songs, on average, tend to have a much higher
				proportion of negative emotions compared to other genres.`,P,Y,G=`But this is not to say that negativity is confined to Hip hop. Across
				the board, from Pop to Rock to R&B, songs with darker themes have been
				on the ascent. It seems to be a cross-genre zeitgeist, a pervasive mood
				in the music of our times.`,V,W,F,H="The Artist Landscape",L,z,ne=`Of course, behind every song is an artist, and each artist has their own
				distinctive emotional style or "fingerprint." Some, like Billie Eilish
				or Juice WRLD, are known for their consistently dark and moody lyrics,
				while others, like Ariana Grande or BTS, tend towards a more positive,
				uplifting tone.`,oe,K,J,ue,ye=`Explore the scatterplot above to see where your favorite artists fall on
				the spectrum of musical emotion. You can search for specific artists,
				filter by genre and decade, and dive into any artist's full emotional
				profile.`,me,ce,pe,he,ve=`What's fascinating is how an artist's emotional fingerprint can evolve
				over their career, often reflecting their personal growth and struggles.
				Taylor Swift, for example, started out with mostly positive, lovestruck
				anthems, but has increasingly explored darker, more introspective themes
				in her recent work.`,ge,se,R,q="Conclusion",O,N,Z,j,B,X="Methodology",ie,le,xe,de,_e;return l=new Header({}),h=new Introduction({}),w=new NegativeSongsChart({}),D=new EmotionChart({}),K=new ArtistScatterplot({}),ce=new ArtistRadarChart({}),N=new Conclusion({}),le=new Methodology({}),de=new Footer({}),{c(){o=element("div"),s=element("article"),create_component(l.$$.fragment),u=space(),create_component(h.$$.fragment),f=space(),p=element("section"),_=element("h2"),_.textContent=g,b=space(),create_component(w.$$.fragment),$=space(),E=element("p"),E.textContent=M,C=space(),k=element("p"),k.textContent=T,A=space(),create_component(D.$$.fragment),I=space(),S=element("p"),S.textContent=U,P=space(),Y=element("p"),Y.textContent=G,V=space(),W=element("section"),F=element("h2"),F.textContent=H,L=space(),z=element("p"),z.textContent=ne,oe=space(),create_component(K.$$.fragment),J=space(),ue=element("p"),ue.textContent=ye,me=space(),create_component(ce.$$.fragment),pe=space(),he=element("p"),he.textContent=ve,ge=space(),se=element("section"),R=element("h2"),R.textContent=q,O=space(),create_component(N.$$.fragment),Z=space(),j=element("section"),B=element("h2"),B.textContent=X,ie=space(),create_component(le.$$.fragment),xe=space(),create_component(de.$$.fragment),this.h()},l(Q){o=claim_element(Q,"DIV",{id:!0,class:!0});var fe=children(o);s=claim_element(fe,"ARTICLE",{class:!0});var ee=children(s);claim_component(l.$$.fragment,ee),u=claim_space(ee),claim_component(h.$$.fragment,ee),f=claim_space(ee),p=claim_element(ee,"SECTION",{class:!0});var te=children(p);_=claim_element(te,"H2",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(_)!=="svelte-53wktd"&&(_.textContent=g),b=claim_space(te),claim_component(w.$$.fragment,te),$=claim_space(te),E=claim_element(te,"P",{"data-svelte-h":!0}),get_svelte_dataset(E)!=="svelte-h4ggtc"&&(E.textContent=M),C=claim_space(te),k=claim_element(te,"P",{"data-svelte-h":!0}),get_svelte_dataset(k)!=="svelte-cf6c50"&&(k.textContent=T),A=claim_space(te),claim_component(D.$$.fragment,te),I=claim_space(te),S=claim_element(te,"P",{"data-svelte-h":!0}),get_svelte_dataset(S)!=="svelte-1yht604"&&(S.textContent=U),P=claim_space(te),Y=claim_element(te,"P",{"data-svelte-h":!0}),get_svelte_dataset(Y)!=="svelte-1u5qzk0"&&(Y.textContent=G),te.forEach(detach),V=claim_space(ee),W=claim_element(ee,"SECTION",{class:!0});var ae=children(W);F=claim_element(ae,"H2",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(F)!=="svelte-yedn0x"&&(F.textContent=H),L=claim_space(ae),z=claim_element(ae,"P",{"data-svelte-h":!0}),get_svelte_dataset(z)!=="svelte-1ojuycu"&&(z.textContent=ne),oe=claim_space(ae),claim_component(K.$$.fragment,ae),J=claim_space(ae),ue=claim_element(ae,"P",{"data-svelte-h":!0}),get_svelte_dataset(ue)!=="svelte-19llaoe"&&(ue.textContent=ye),me=claim_space(ae),claim_component(ce.$$.fragment,ae),pe=claim_space(ae),he=claim_element(ae,"P",{"data-svelte-h":!0}),get_svelte_dataset(he)!=="svelte-1o8q7uw"&&(he.textContent=ve),ae.forEach(detach),ge=claim_space(ee),se=claim_element(ee,"SECTION",{class:!0});var we=children(se);R=claim_element(we,"H2",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(R)!=="svelte-grw4hp"&&(R.textContent=q),O=claim_space(we),claim_component(N.$$.fragment,we),we.forEach(detach),Z=claim_space(ee),j=claim_element(ee,"SECTION",{class:!0});var be=children(j);B=claim_element(be,"H2",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(B)!=="svelte-rgjxwn"&&(B.textContent=X),ie=claim_space(be),claim_component(le.$$.fragment,be),be.forEach(detach),xe=claim_space(ee),claim_component(de.$$.fragment,ee),ee.forEach(detach),fe.forEach(detach),this.h()},h(){attr(_,"class","svelte-vrgwpu"),attr(p,"class","svelte-vrgwpu"),attr(F,"class","svelte-vrgwpu"),attr(W,"class","svelte-vrgwpu"),attr(R,"class","svelte-vrgwpu"),attr(se,"class","svelte-vrgwpu"),attr(B,"class","svelte-vrgwpu"),attr(j,"class","svelte-vrgwpu"),attr(s,"class","svelte-vrgwpu"),attr(o,"id","product"),attr(o,"class","svelte-vrgwpu"),toggle_class(o,"visible",i[0]==="right")},m(Q,fe){insert_hydration(Q,o,fe),append_hydration(o,s),mount_component(l,s,null),append_hydration(s,u),mount_component(h,s,null),append_hydration(s,f),append_hydration(s,p),append_hydration(p,_),append_hydration(p,b),mount_component(w,p,null),append_hydration(p,$),append_hydration(p,E),append_hydration(p,C),append_hydration(p,k),append_hydration(p,A),mount_component(D,p,null),append_hydration(p,I),append_hydration(p,S),append_hydration(p,P),append_hydration(p,Y),append_hydration(s,V),append_hydration(s,W),append_hydration(W,F),append_hydration(W,L),append_hydration(W,z),append_hydration(W,oe),mount_component(K,W,null),append_hydration(W,J),append_hydration(W,ue),append_hydration(W,me),mount_component(ce,W,null),append_hydration(W,pe),append_hydration(W,he),append_hydration(s,ge),append_hydration(s,se),append_hydration(se,R),append_hydration(se,O),mount_component(N,se,null),append_hydration(s,Z),append_hydration(s,j),append_hydration(j,B),append_hydration(j,ie),mount_component(le,j,null),append_hydration(s,xe),mount_component(de,s,null),_e=!0},p(Q,[fe]){(!_e||fe&1)&&toggle_class(o,"visible",Q[0]==="right")},i(Q){_e||(transition_in(l.$$.fragment,Q),transition_in(h.$$.fragment,Q),transition_in(w.$$.fragment,Q),transition_in(D.$$.fragment,Q),transition_in(K.$$.fragment,Q),transition_in(ce.$$.fragment,Q),transition_in(N.$$.fragment,Q),transition_in(le.$$.fragment,Q),transition_in(de.$$.fragment,Q),_e=!0)},o(Q){transition_out(l.$$.fragment,Q),transition_out(h.$$.fragment,Q),transition_out(w.$$.fragment,Q),transition_out(D.$$.fragment,Q),transition_out(K.$$.fragment,Q),transition_out(ce.$$.fragment,Q),transition_out(N.$$.fragment,Q),transition_out(le.$$.fragment,Q),transition_out(de.$$.fragment,Q),_e=!1},d(Q){Q&&detach(o),destroy_component(l),destroy_component(h),destroy_component(w),destroy_component(D),destroy_component(K),destroy_component(ce),destroy_component(N),destroy_component(le),destroy_component(de)}}}function instance$5(i,o,s){let l;return component_subscribe(i,side,u=>s(0,l=u)),[l]}class Index_Product extends SvelteComponent{constructor(o){super(),init(this,o,instance$5,create_fragment$5,safe_not_equal,{})}}function create_fragment$4(i){let o,s='<video src="assets/video/test.mp4" controls="true" class="svelte-127fg58"></video>';return{c(){o=element("div"),o.innerHTML=s,this.h()},l(l){o=claim_element(l,"DIV",{class:!0,"data-svelte-h":!0}),get_svelte_dataset(o)!=="svelte-120h8jo"&&(o.innerHTML=s),this.h()},h(){attr(o,"class","svelte-127fg58"),toggle_class(o,"visible",i[0]!==void 0),set_style(o,"top",`${i[1]||0}px`)},m(l,u){insert_hydration(l,o,u)},p(l,[u]){u&1&&toggle_class(o,"visible",l[0]!==void 0),u&2&&set_style(o,"top",`${l[1]||0}px`)},i:noop,o:noop,d(l){l&&detach(o)}}}function instance$4(i,o,s){let l,u;return component_subscribe(i,currentVideoId,h=>s(0,l=h)),component_subscribe(i,currentVideoY,h=>s(1,u=h)),[l,u]}class Video extends SvelteComponent{constructor(o){super(),init(this,o,instance$4,create_fragment$4,safe_not_equal,{})}}var e={"":["<em>","</em>"],_:["<strong>","</strong>"],"*":["<strong>","</strong>"],"~":["<s>","</s>"],"\n":["<br />"]," ":["<br />"],"-":["<hr />"]};function n(i){return i.replace(RegExp("^"+(i.match(/^(\t| )+/)||"")[0],"gm"),"")}function r(i){return(i+"").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t(i,o){var s,l,u,h,f,p=/((?:^|\n+)(?:\n---+|\* \*(?: \*)+)\n)|(?:^``` *(\w*)\n([\s\S]*?)\n```$)|((?:(?:^|\n+)(?:\t|  {2,}).+)+\n*)|((?:(?:^|\n)([>*+-]|\d+\.)\s+.*)+)|(?:!\[([^\]]*?)\]\(([^)]+?)\))|(\[)|(\](?:\(([^)]+?)\))?)|(?:(?:^|\n+)([^\s].*)\n(-{3,}|={3,})(?:\n+|$))|(?:(?:^|\n+)(#{1,6})\s*(.+)(?:\n+|$))|(?:`([^`].*?)`)|(  \n\n*|\n{2,}|__|\*\*|[_*]|~~)/gm,_=[],g="",b=o||{},w=0;function $(M){var C=e[M[1]||""],k=_[_.length-1]==M;return C?C[1]?(k?_.pop():_.push(M),C[0|k]):C[0]:M}function E(){for(var M="";_.length;)M+=$(_[_.length-1]);return M}for(i=i.replace(/^\[(.+?)\]:\s*(.+)$/gm,function(M,C,k){return b[C.toLowerCase()]=k,""}).replace(/^\n+|\n+$/g,"");u=p.exec(i);)l=i.substring(w,u.index),w=p.lastIndex,s=u[0],l.match(/[^\\](\\\\)*\\$/)||((f=u[3]||u[4])?s='<pre class="code '+(u[4]?"poetry":u[2].toLowerCase())+'"><code'+(u[2]?' class="language-'+u[2].toLowerCase()+'"':"")+">"+n(r(f).replace(/^\n+|\n+$/g,""))+"</code></pre>":(f=u[6])?(f.match(/\./)&&(u[5]=u[5].replace(/^\d+/gm,"")),h=t(n(u[5].replace(/^\s*[>*+.-]/gm,""))),f==">"?f="blockquote":(f=f.match(/\./)?"ol":"ul",h=h.replace(/^(.*)(\n|$)/gm,"<li>$1</li>")),s="<"+f+">"+h+"</"+f+">"):u[8]?s='<img src="'+r(u[8])+'" alt="'+r(u[7])+'">':u[10]?(g=g.replace("<a>",'<a href="'+r(u[11]||b[l.toLowerCase()])+'">'),s=E()+"</a>"):u[9]?s="<a>":u[12]||u[14]?s="<"+(f="h"+(u[14]?u[14].length:u[13]>"="?1:2))+">"+t(u[12]||u[15],b)+"</"+f+">":u[16]?s="<code>"+r(u[16])+"</code>":(u[17]||u[1])&&(s=$(u[17]||"--"))),g+=l,g+=s;return(g+i.substring(w)+E()).replace(/^\n+|\n+$/g,"")}function get_each_context$1(i,o,s){const l=i.slice();return l[3]=o[s].type,l[4]=o[s].value,l}function get_each_context_1$1(i,o,s){const l=i.slice();return l[3]=o[s].type,l[4]=o[s].value,l}function create_else_block(i){let o,s;return{c(){o=element("div"),s=text$1(i[2])},l(l){o=claim_element(l,"DIV",{});var u=children(o);s=claim_text(u,i[2]),u.forEach(detach)},m(l,u){insert_hydration(l,o,u),append_hydration(o,s)},p(l,u){u&4&&set_data(s,l[2])},d(l){l&&detach(o)}}}function create_if_block$1(i){let o,s,l="Prompt 👩🏽‍💻",u,h,f,p,_="Response 🤖",g,b=ensure_array_like(i[0]),w=[];for(let M=0;M<b.length;M+=1)w[M]=create_each_block_1$1(get_each_context_1$1(i,b,M));let $=ensure_array_like(i[1]),E=[];for(let M=0;M<$.length;M+=1)E[M]=create_each_block$1(get_each_context$1(i,$,M));return{c(){o=element("details"),s=element("summary"),s.textContent=l,u=space();for(let M=0;M<w.length;M+=1)w[M].c();h=space(),f=element("details"),p=element("summary"),p.textContent=_,g=space();for(let M=0;M<E.length;M+=1)E[M].c();this.h()},l(M){o=claim_element(M,"DETAILS",{class:!0});var C=children(o);s=claim_element(C,"SUMMARY",{"data-svelte-h":!0}),get_svelte_dataset(s)!=="svelte-3nmdpm"&&(s.textContent=l),u=claim_space(C);for(let T=0;T<w.length;T+=1)w[T].l(C);C.forEach(detach),h=claim_space(M),f=claim_element(M,"DETAILS",{class:!0});var k=children(f);p=claim_element(k,"SUMMARY",{"data-svelte-h":!0}),get_svelte_dataset(p)!=="svelte-1tf68m5"&&(p.textContent=_),g=claim_space(k);for(let T=0;T<E.length;T+=1)E[T].l(k);k.forEach(detach),this.h()},h(){attr(o,"class","prompt svelte-8xkafd"),attr(f,"class","response svelte-8xkafd")},m(M,C){insert_hydration(M,o,C),append_hydration(o,s),append_hydration(o,u);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(o,null);insert_hydration(M,h,C),insert_hydration(M,f,C),append_hydration(f,p),append_hydration(f,g);for(let k=0;k<E.length;k+=1)E[k]&&E[k].m(f,null)},p(M,C){if(C&1){b=ensure_array_like(M[0]);let k;for(k=0;k<b.length;k+=1){const T=get_each_context_1$1(M,b,k);w[k]?w[k].p(T,C):(w[k]=create_each_block_1$1(T),w[k].c(),w[k].m(o,null))}for(;k<w.length;k+=1)w[k].d(1);w.length=b.length}if(C&2){$=ensure_array_like(M[1]);let k;for(k=0;k<$.length;k+=1){const T=get_each_context$1(M,$,k);E[k]?E[k].p(T,C):(E[k]=create_each_block$1(T),E[k].c(),E[k].m(f,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=$.length}},d(M){M&&(detach(o),detach(h),detach(f)),destroy_each(w,M),destroy_each(E,M)}}}function create_each_block_1$1(i){let o,s,l=t(i[4])+"";return{c(){o=element("div"),s=new HtmlTagHydration(!1),this.h()},l(u){o=claim_element(u,"DIV",{});var h=children(o);s=claim_html_tag(h,!1),h.forEach(detach),this.h()},h(){s.a=null},m(u,h){insert_hydration(u,o,h),s.m(l,o)},p(u,h){h&1&&l!==(l=t(u[4])+"")&&s.p(l)},d(u){u&&detach(o)}}}function create_each_block$1(i){let o,s,l=t(i[4])+"";return{c(){o=element("div"),s=new HtmlTagHydration(!1),this.h()},l(u){o=claim_element(u,"DIV",{});var h=children(o);s=claim_html_tag(h,!1),h.forEach(detach),this.h()},h(){s.a=null},m(u,h){insert_hydration(u,o,h),s.m(l,o)},p(u,h){h&2&&l!==(l=t(u[4])+"")&&s.p(l)},d(u){u&&detach(o)}}}function create_fragment$3(i){let o;function s(h,f){return h[0]&&h[1]?create_if_block$1:create_else_block}let l=s(i),u=l(i);return{c(){o=element("div"),u.c(),this.h()},l(h){o=claim_element(h,"DIV",{class:!0});var f=children(o);u.l(f),f.forEach(detach),this.h()},h(){attr(o,"class","chat svelte-8xkafd")},m(h,f){insert_hydration(h,o,f),u.m(o,null)},p(h,[f]){l===(l=s(h))&&u?u.p(h,f):(u.d(1),u=l(h),u&&(u.c(),u.m(o,null)))},i:noop,o:noop,d(h){h&&detach(o),u.d()}}}function instance$3(i,o,s){let{prompt:l}=o,{response:u}=o,{description:h}=o;return i.$$set=f=>{"prompt"in f&&s(0,l=f.prompt),"response"in f&&s(1,u=f.response),"description"in f&&s(2,h=f.description)},[l,u,h]}class Chat extends SvelteComponent{constructor(o){super(),init(this,o,instance$3,create_fragment$3,safe_not_equal,{prompt:0,response:1,description:2})}}const hed="Can AI take our jobs?",byline="By <a href=https://pudding.cool/author/russell-samora/ target=_blank>Russell Samora</a> and <a href=https://pudding.cool/author/michelle-mcghee/ target=_blank>Michelle McGhee</a>",process=[{type:"text",value:"With AI in the spotlight – blowing minds, raking in venture capital, and prompting existential crises – we at The Pudding were curious: Does this make our jobs obsolete? How scared should we be that someone else could replicate what we do without the time, training, and expertise we have?"},{type:"text",value:"Basically, <strong>can AI write a Pudding piece?</strong> (Also, for those less well-versed with AI, what does it actually “do,” and how well does it do it?)"},{type:"text",value:"So, we tried replacing ourselves! Before we started, we created a set of rules and guidelines for our interactions with the AI:"},{type:"list",value:["We broke the process of creating a Pudding piece down into four steps, and guided the AI through them. These were: idea generation, data collection & analysis, storyboarding & prototyping, and development & writing.","For each task, we prompted it until it either completed the task or failed repeatedly, at which point, we modified the task to make it surmountable.","Other than guiding it through the process and re-scoping when necessary, we attempted to intervene as little as possible. We tried to mimic how a data-storytelling-inclined layperson would interact with the AI, refraining from using as much of our data visualization or journalism expertise as possible."]},{type:"text",value:"We started the process in parallel with both ChatGPT (4) and Claude (3 Opus), but we were more satisfied with Claude’s work. So, partway through, we decided to focus solely on that."},{type:"heading",value:"Part 0: Setting the stage"},{type:"text",value:"Before we started on the story, we introduced ourselves and gave Claude some background reading on The Pudding’s process."},{type:"chat",description:"chats of our initial prompt, a small sampling of the readings",prompt:[{type:"text",value:"We want you to be a freelance contributor for The Pudding. I will give you all the prompts and guidance you need. I will also serve as your editor. You need to create a story for publication from start to finish, from idea to code - I will help with deployment and all the infrastructure stuff. Make sense?"}],response:[{type:"text",value:"That sounds like an exciting opportunity! I'm ready to help you create engaging and informative stories for The Pudding. Please go ahead and provide me with the first prompt or guidance on the topic you’d like to explore. We can brainstorm ideas, analyze data, draft the story, and refine it together until it’s ready for publication. What’s our first project?"}]},{type:"heading",value:"Part 1: Pitching ideas"},{type:"text",value:"After Claude learned about what makes a good Pudding story, we asked it to generate several idea pitches. Here’s what it came up with:"},{type:"chat",description:"chat of list of ideas",prompt:[{type:"text",value:"This is our pitch form. Please give us 3 ideas, and answer all questions for each one. Be as specific as possible and if you’re using data, make sure you have an idea of how you will obtain and analyze the data."},{type:"text",value:"Pitch form questions:"},{type:"text",value:"1. What is your story about? The elevator pitch, if you will."},{type:"text",value:"2. Can you summarize in one sentence the single point you’re making? Think of it as a snappy headline or distillation. It should not be in the form of a question."},{type:"text",value:"3. Why is it exciting to you? Why do *you* want to tell this story?"},{type:"text",value:"4. What makes this story interesting and sets it apart from others?"},{type:"text",value:"5. What will be the “aha” moment for the audience, or the surprising element?"},{type:"text",value:"6. Provide one or more feasible options for data sources."},{type:"text",value:"7. Describe some ideas for the core visuals of this piece. What do you imagine the piece will look like? What’s the first thing you’d draw on a whiteboard?"}],response:[{type:"text",value:"Certainly! Here are three refined pitches with responses to the specific questions in your form:"},{type:"text",value:"### Pitch 1: The Evolution of Video Game Soundtracks"},{type:"text",value:"1. **What is your story about?**"},{type:"text",value:"- This story explores the evolution of video game soundtracks, analyzing how they have influenced popular music genres and vice versa."},{type:"text",value:"2. **Can you summarize in one sentence the single point you’re making?**"},{type:"text",value:"- Video game soundtracks have not only enhanced gaming experiences but also significantly shaped music trends over decades."},{type:"text",value:"3. **Why is it exciting to you? Why do *you* want to tell this story?**"},{type:"text",value:"- As a music enthusiast and gamer, the intersection of video game music and its cultural impact fascinates me. Unveiling how these soundtracks have transcended gaming to influence mainstream music offers a new appreciation of their artistic significance."},{type:"text",value:"4. **What makes this story interesting and sets it apart from others?**"},{type:"text",value:"- Unlike traditional music industry analyses, this story taps into the niche yet expansive world of gaming to reveal its underrated influence on popular music, highlighting composers and iconic soundtracks that have left a lasting mark on the music industry."},{type:"text",value:"5. **What will be the “aha” moment for the audience, or the surprising element?**"},{type:"text",value:"- Discovering specific video game soundtracks that have inspired popular songs or genres might surprise many, revealing unexpected connections between gaming and popular music culture."},{type:"text",value:"6. **Provide one or more feasible options for data sources.**"},{type:"text",value:"- Data from video game databases like IGDB, music streaming platforms like Spotify for soundtrack streams, sales data from music and game retailers, and social media analysis for fan discussions."},{type:"text",value:"7. **Describe some ideas for the core visuals of this piece.**"},{type:"text",value:"- Interactive timelines showing the release of key soundtracks alongside pivotal moments in music history. Graphs comparing the popularity of soundtracks with music chart successes. Audio clips embedded within the essay to provide a multimedia experience."},{type:"text",value:"### Pitch 2: Global School Lunches: A Visual Comparison"},{type:"text",value:"1. **What is your story about?**"},{type:"text",value:"- A visual exploration of what school lunches look like around the world, reflecting each country's cultural priorities and nutritional standards."},{type:"text",value:"2. **Can you summarize in one sentence the single point you’re making?**"},{type:"text",value:"- School lunches around the globe reveal not just diverse culinary cultures but also varying governmental priorities in child nutrition."},{type:"text",value:"3. **Why is it exciting to you? Why do *you* want to tell this story?**"},{type:"text",value:"- Food is a universal language, and exploring it through the lens of school lunches offers insights into global cultural differences and societal values related to children's health and education."},{type:"text",value:"4. **What makes this story interesting and sets it apart from others?**"},{type:"text",value:"- It's a blend of cultural anthropology and nutritional science, presented through a unique, universally relatable subject—what kids eat at school."},{type:"text",value:"5. **What will be the “aha” moment for the audience, or the surprising element?**"},{type:"text",value:"- Visualizing the stark differences in nutritional content and portion sizes can dramatically highlight global disparities in child nutrition and welfare."},{type:"text",value:"6. **Provide one or more feasible options for data sources.**"},{type:"text",value:"- Government and educational reports on school meal programs, nutritional studies, first-hand surveys with schools, and photo contributions from international teachers and students."},{type:"text",value:"7. **Describe some ideas for the core visuals of this piece.**"},{type:"text",value:"- A global map with interactive elements allowing users to click on a country and see a typical meal, nutritional facts, and cultural notes. Comparative photo galleries of meals from different countries."},{type:"text",value:"### Pitch 3: The Rise and Impact of Fan Fiction"},{type:"text",value:"1. **What is your story about?**"},{type:"text",value:"- This visual essay examines the explosion of fan fiction writing, exploring how these communities influence mainstream media and reshape narratives."},{type:"text",value:"2. **Can you summarize in one sentence the single point you’re making?**"},{type:"text",value:"- Fan fiction is more than a creative outlet; it's a cultural phenomenon that actively shapes and sometimes challenges the mainstream media landscape."},{type:"text",value:"3. **Why is it exciting to you? Why do *you* want to tell this story?**"},{type:"text",value:"- I'm intrigued by the power of grassroots literary movements and how they empower individuals to influence major media narratives, offering a voice to often underrepresented perspectives."},{type:"text",value:"4. **What makes this story interesting and sets it apart from others?**"},{type:"text",value:"- It delves into the impact of fan-created content on original works, highlighting cases where fan fiction has directly inspired or altered official media productions."},{type:"text",value:"5. **What will be the “aha” moment for the audience, or the surprising element?**"},{type:"text",value:"- Revealing instances where fan fiction has led to real-world changes in media productions or has been acknowledged by creators, illustrating its tangible impact on mainstream culture."},{type:"text",value:"6. **Provide one or more feasible options for data sources.**"},{type:"text",value:"- Data scraping from fan fiction repositories like Archive of Our Own, analysis of trends in fan fiction topics over time, surveys of fan fiction writers and readers, and interviews with media producers."},{type:"text",value:"7. **Describe some ideas for the core visuals of this piece.**"},{type:"text",value:"- Network graphs showing the relationships between fan fiction works and original media. Bar charts and line graphs tracking the growth of fan fiction communities. Interactive segments displaying quotes and excerpts from influential fan fiction works."},{type:"text",value:"Each pitch is designed to leverage The Pudding's strengths in visual storytelling and data-driven journalism, focusing on unique narratives that offer both depth and broad appeal."}]},{type:"text",value:"Maybe we’d write some text here that starts to get at our feedback, so we can <span data-video=test>link out from it</span>."},{type:"text",value:"Tk feedback process"},{type:"chat",description:"chat of getting specific"},{type:"text",value:"Our favorite idea was the one about emotions in music, so we moved on with that."},{type:"heading",value:"Part 2: Data collection and preliminary analysis"},{type:"text",value:"Once we have an idea, we typically begin by collecting the data needed to tell the story and seeing what it says. For Claude, that meant scraping lyrics from Billboard top 100 hits from Genius.com. We asked it to write Python scripts which we ran for it (since it’s not able to run them internally)."},{type:"chat",description:"chat of scraping genius"},{type:"chat",description:"show chat of giving the error messages over and over"},{type:"chat",description:"snippet showing multiple artists. other mistakes: discrete sentiment vs. continuous, not cleaning bad lyrics"},{type:"heading",value:"Part 3: Storyboard and prototyping"},{type:"text",value:"Next, we asked Claude to create a storyboard – an outline of the story’s main points including ideas for charts and visuals."},{type:"chat",description:"show its storyboard"},{type:"text",value:"We asked it to prototype the visual ideas to make sure they worked with the real data. It wrote Python code to generate the charts which we ran by copy and pasting into Google Collab."},{type:"heading",value:"Part 4: Production (development and writing)"},{type:"text",value:"We asked Claude to transform the outline into a fully fleshed out draft. For the visuals, we moved into The Pudding’s development environment, Svelte, and asked it to structure the codebase, deciding which components to make and how they were nested."},{type:"chat",description:"show component structure"},{type:"text",value:"We gave it some of the predefined standards in our codebase (e.g., font stack), then we asked it to write the entirety of each component, making the charts that it had described and prototyped."},{type:"chat",description:"show svelte component"},{type:"text",value:"It described two images for us to generate, but since that is not a feature of Claude, we outsourced the work to…ChatGPT. The hero image/art was meant to be an illustration, but the final image was supposed to be more of a chart. Despite its thorough description, ChatGPT ended up creating more of an abstract art piece than a functional chart."},{type:"heading",value:"Conclusions"},{type:"text",value:"So the answer is: no, we do not feel threatened by this. When we look at what Claude produced, we don’t think it looks anything like a real Pudding piece. But would a casual reader notice the difference? We hope so, but that might be overly optimistic."},{type:"text",value:"It’s sort of like comparing a woodworking artisan’s table to one from IKEA. The artisans invest immense time and effort into their high-quality pieces, IKEA produces things quickly and cheaply, and most people probably can’t tell the difference (or don’t care). Which is kind of sad for us artisans. With AI, we can expect a rise in superficially appealing but low-quality content. But that doesn’t mean there’s no place for craftsmanship. We still find meaning in the bespoke, at doing all the little things right, and in creating things that feel like they have a real person at the other end of it. And we can only hope that others do too."},{type:"text",value:"We probably won’t be using Claude to write more articles, but we’ll certainly be using it and other AI tools as part of our toolkit. As Ezra Klein pointed out in a recent <a href=https://www.nytimes.com/2024/04/23/opinion/ezra-klein-podcast-adam-moss.html target=_blank>episode</a>, we see ourselves more as editors of the small tasks we outsource to AI. We know what the output should look like, and how to adjust things as needed. Here are a few examples of ways we already use AI to assist us:"},{type:"list",value:["Writing a helper script to process images","Generating a handful of options for a headline","Asking Claude to be an idea sparring partner","Identifying names in text documents","Getting out of a Git jam"]}],copy={hed,byline,process};function get_each_context(i,o,s){const l=i.slice();return l[3]=o[s].type,l[4]=o[s].value,l[5]=o[s].description,l[6]=o[s].prompt,l[7]=o[s].response,l}function get_each_context_1(i,o,s){const l=i.slice();return l[10]=o[s],l}function create_if_block_3(i){let o,s;return o=new Chat({props:{description:i[5],prompt:i[6],response:i[7]}}),{c(){create_component(o.$$.fragment)},l(l){claim_component(o.$$.fragment,l)},m(l,u){mount_component(o,l,u),s=!0},i(l){s||(transition_in(o.$$.fragment,l),s=!0)},o(l){transition_out(o.$$.fragment,l),s=!1},d(l){destroy_component(o,l)}}}function create_if_block_2(i){let o,s=ensure_array_like(i[4]),l=[];for(let u=0;u<s.length;u+=1)l[u]=create_each_block_1(get_each_context_1(i,s,u));return{c(){o=element("ul");for(let u=0;u<l.length;u+=1)l[u].c();this.h()},l(u){o=claim_element(u,"UL",{class:!0});var h=children(o);for(let f=0;f<l.length;f+=1)l[f].l(h);h.forEach(detach),this.h()},h(){attr(o,"class","svelte-108tsdr")},m(u,h){insert_hydration(u,o,h);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,null)},i:noop,o:noop,d(u){u&&detach(o),destroy_each(l,u)}}}function create_if_block_1(i){let o,s;return{c(){o=element("h3"),s=new HtmlTagHydration(!1),this.h()},l(l){o=claim_element(l,"H3",{class:!0});var u=children(o);s=claim_html_tag(u,!1),u.forEach(detach),this.h()},h(){s.a=null,attr(o,"class","svelte-108tsdr")},m(l,u){insert_hydration(l,o,u),s.m(i[4],o)},i:noop,o:noop,d(l){l&&detach(o)}}}function create_if_block(i){let o,s;return{c(){o=element("p"),s=new HtmlTagHydration(!1),this.h()},l(l){o=claim_element(l,"P",{});var u=children(o);s=claim_html_tag(u,!1),u.forEach(detach),this.h()},h(){s.a=null},m(l,u){insert_hydration(l,o,u),s.m(i[4],o)},i:noop,o:noop,d(l){l&&detach(o)}}}function create_each_block_1(i){let o,s;return{c(){o=element("li"),s=new HtmlTagHydration(!1),this.h()},l(l){o=claim_element(l,"LI",{});var u=children(o);s=claim_html_tag(u,!1),u.forEach(detach),this.h()},h(){s.a=null},m(l,u){insert_hydration(l,o,u),s.m(i[10],o)},p:noop,d(l){l&&detach(o)}}}function create_each_block(i){let o,s,l,u;const h=[create_if_block,create_if_block_1,create_if_block_2,create_if_block_3],f=[];function p(_,g){return _[3]==="text"?0:_[3]==="heading"?1:_[3]==="list"?2:_[3]==="chat"?3:-1}return~(o=p(i))&&(s=f[o]=h[o](i)),{c(){s&&s.c(),l=empty()},l(_){s&&s.l(_),l=empty()},m(_,g){~o&&f[o].m(_,g),insert_hydration(_,l,g),u=!0},p:noop,i(_){u||(transition_in(s),u=!0)},o(_){transition_out(s),u=!1},d(_){_&&detach(l),~o&&f[o].d(_)}}}function create_fragment$2(i){let o,s,l,u=copy.hed+"",h,f,p,_,g=copy.byline+"",b,w,$,E,M=ensure_array_like(copy.process),C=[];for(let k=0;k<M.length;k+=1)C[k]=create_each_block(get_each_context(i,M,k));return $=new Video({}),{c(){o=element("div"),s=element("article"),l=element("h1"),h=text$1(u),f=space(),p=element("div"),_=new HtmlTagHydration(!1),b=space();for(let k=0;k<C.length;k+=1)C[k].c();w=space(),create_component($.$$.fragment),this.h()},l(k){o=claim_element(k,"DIV",{id:!0,class:!0});var T=children(o);s=claim_element(T,"ARTICLE",{class:!0});var A=children(s);l=claim_element(A,"H1",{class:!0});var D=children(l);h=claim_text(D,u),D.forEach(detach),f=claim_space(A),p=claim_element(A,"DIV",{class:!0});var I=children(p);_=claim_html_tag(I,!1),I.forEach(detach),b=claim_space(A);for(let S=0;S<C.length;S+=1)C[S].l(A);w=claim_space(A),claim_component($.$$.fragment,A),A.forEach(detach),T.forEach(detach),this.h()},h(){attr(l,"class","svelte-108tsdr"),_.a=null,attr(p,"class","byline svelte-108tsdr"),attr(s,"class","svelte-108tsdr"),attr(o,"id","process"),attr(o,"class","svelte-108tsdr"),toggle_class(o,"visible",i[0]==="left")},m(k,T){insert_hydration(k,o,T),append_hydration(o,s),append_hydration(s,l),append_hydration(l,h),append_hydration(s,f),append_hydration(s,p),_.m(g,p),append_hydration(s,b);for(let A=0;A<C.length;A+=1)C[A]&&C[A].m(s,null);append_hydration(s,w),mount_component($,s,null),E=!0},p(k,[T]){(!E||T&1)&&toggle_class(o,"visible",k[0]==="left")},i(k){if(!E){for(let T=0;T<M.length;T+=1)transition_in(C[T]);transition_in($.$$.fragment,k),E=!0}},o(k){C=C.filter(Boolean);for(let T=0;T<C.length;T+=1)transition_out(C[T]);transition_out($.$$.fragment,k),E=!1},d(k){k&&detach(o),destroy_each(C,k),destroy_component($)}}}function instance$2(i,o,s){let l,u,h;return component_subscribe(i,currentVideoY,f=>s(1,l=f)),component_subscribe(i,currentVideoId,f=>s(2,u=f)),component_subscribe(i,side,f=>s(0,h=f)),onMount(()=>{document.querySelectorAll("span").forEach(p=>{p.addEventListener("click",()=>{u?(set_store_value(currentVideoId,u=void 0,u),set_store_value(currentVideoY,l=void 0,l)):(set_store_value(currentVideoId,u=p.dataset.video,u),set_store_value(currentVideoY,l=p.offsetTop,l))})})}),[h]}class Index_Process extends SvelteComponent{constructor(o){super(),init(this,o,instance$2,create_fragment$2,safe_not_equal,{})}}function create_fragment$1(i){let o,s,l,u,h,f,p,_;return l=new Index_Process({}),h=new Index_Product({}),{c(){o=element("div"),s=element("div"),create_component(l.$$.fragment),u=space(),create_component(h.$$.fragment),this.h()},l(g){o=claim_element(g,"DIV",{class:!0});var b=children(o);s=claim_element(b,"DIV",{class:!0});var w=children(s);claim_component(l.$$.fragment,w),u=claim_space(w),claim_component(h.$$.fragment,w),w.forEach(detach),b.forEach(detach),this.h()},h(){attr(s,"class","inner svelte-uygkad"),set_style(s,"transform",`translate(${i[0]==="left"?0:-80}vw, 0)`),attr(o,"class","outer svelte-uygkad")},m(g,b){insert_hydration(g,o,b),append_hydration(o,s),mount_component(l,s,null),append_hydration(s,u),mount_component(h,s,null),f=!0,p||(_=listen(window,"keydown",prevent_default(i[1])),p=!0)},p(g,[b]){b&1&&set_style(s,"transform",`translate(${g[0]==="left"?0:-80}vw, 0)`)},i(g){f||(transition_in(l.$$.fragment,g),transition_in(h.$$.fragment,g),f=!0)},o(g){transition_out(l.$$.fragment,g),transition_out(h.$$.fragment,g),f=!1},d(g){g&&detach(o),destroy_component(l),destroy_component(h),p=!1,_()}}}function instance$1(i,o,s){let l;return component_subscribe(i,side,h=>s(0,l=h)),[l,h=>{h.keyCode===37?set_store_value(side,l="left",l):h.keyCode===39&&set_store_value(side,l="right",l)}]}class Index extends SvelteComponent{constructor(o){super(),init(this,o,instance$1,create_fragment$1,safe_not_equal,{})}}function version(){console.log("--- --- --- --- --- ---"),console.log("svelte-starter: 5.18.0"),console.log("build: 2024-06-27-12:48"),console.log("--- --- --- --- --- ---")}function create_fragment(i){let o,s,l,u;return o=new Meta({props:{title:i[1],description:i[2],url:i[3],preloadFont:i[0],keywords:i[4]}}),l=new Index({}),{c(){create_component(o.$$.fragment),s=space(),create_component(l.$$.fragment)},l(h){claim_component(o.$$.fragment,h),s=claim_space(h),claim_component(l.$$.fragment,h)},m(h,f){mount_component(o,h,f),insert_hydration(h,s,f),mount_component(l,h,f),u=!0},p:noop,i(h){u||(transition_in(o.$$.fragment,h),transition_in(l.$$.fragment,h),u=!0)},o(h){transition_out(o.$$.fragment,h),transition_out(l.$$.fragment,h),u=!1},d(h){h&&detach(s),destroy_component(o,h),destroy_component(l,h)}}}function instance(i,o,s){let{data:l}=o;version();const u=["https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Regular.woff2","https://pudding.cool/assets/fonts/tiempos/TiemposTextWeb-Bold.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Regular-Web.woff2","https://pudding.cool/assets/fonts/atlas/AtlasGrotesk-Bold-Web.woff2"],{title:h,description:f,url:p,keywords:_}=copy;return setContext("copy",copy),setContext("data",l.data),i.$$set=g=>{"data"in g&&s(5,l=g.data)},[u,h,f,p,_,l]}class Page extends SvelteComponent{constructor(o){super(),init(this,o,instance,create_fragment,safe_not_equal,{data:5})}}export{Page as component};
